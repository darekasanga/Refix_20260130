<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SenSei</title>
  <script src="theme.js"></script>

  <script>
    window.EnchoTheme?.applyCurrentTheme(document);
  </script>
  <script src="session.js"></script>
  <script src="swipe-handler.js"></script>
  <link rel="stylesheet" href="swipe-rail.css">
  <script src="swipe-rail.js" defer></script>
  <style>
    :root {
      --accent: #8b5cf6;
      --accent-2: #f59e0b;
      --accent-3: #22d3ee;
      --accent-4: #fb7185;
      --muted: #14121d;
      --panel: #1b1827;
      --panel-sub: #221f30;
      --border: #2f2a3d;
      --text: #fefefe;
      --subtext: #d8d9e4;
      --bg: linear-gradient(135deg, #0d0b16 0%, #0c1228 55%, #0f162f 100%);
      --panel-overlay: rgba(19, 18, 28, 0.9);
      --glow: 0 12px 45px rgba(168, 85, 247, 0.28);
    }
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
    }
    body {
      font-family: "Noto Sans JP", "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
      touch-action: pan-y;
      overscroll-behavior: contain;
    }

    .container {
      max-width: 1100px;
      width: 100%;
    }

    header {
      text-align: center;
      margin-bottom: 32px;
      position: relative;
    }

    h1 {
      font-size: 32px;
      font-weight: 800;
      margin: 0 0 12px;
      letter-spacing: 0.5px;
    }

    .subtitle {
      font-size: 16px;
      color: var(--subtext);
      margin: 0;
      display: inline-flex;
      gap: 10px;
      align-items: center;
      padding: 10px 16px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.04);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
    }

    .news-hero {
      margin: 6px 0 18px;
      width: 100%;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: linear-gradient(135deg, rgba(20, 18, 36, 0.95), rgba(18, 28, 54, 0.9));
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35);
      padding: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .news-hero svg {
      width: min(720px, 100%);
      height: auto;
      opacity: 0.95;
    }

    .top-actions {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 16px;
    }

    .theme-chips {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .theme-chip {
      padding: 8px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: rgba(255, 255, 255, 0.06);
      color: var(--text);
      font-weight: 800;
      font-size: 13px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
    }

    .theme-chip.active {
      transform: translateY(-2px);
      box-shadow: 0 12px 38px rgba(0, 0, 0, 0.35);
      border-color: var(--accent);
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.18), rgba(255, 255, 255, 0.06));
      color: #1f1b2d;
    }

    .device-switcher {
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .device-badges {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .device-badge {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }

    .device-badge:hover,
    .device-badge:focus-visible {
      transform: translateY(-1px);
      border-color: var(--accent-3);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.35);
      outline: none;
    }

    .device-bubble {
      --bubble-arrow-left: 24px;
      position: absolute;
      top: calc(100% + 10px);
      left: 0;
      min-width: 220px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(20, 18, 30, 0.96);
      color: var(--text);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      opacity: 0;
      pointer-events: none;
      transform: translateY(-6px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      z-index: 10;
    }

    .device-bubble::before {
      content: "";
      position: absolute;
      top: -8px;
      left: var(--bubble-arrow-left);
      width: 16px;
      height: 16px;
      background: rgba(20, 18, 30, 0.96);
      border-left: 1px solid rgba(255, 255, 255, 0.2);
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      transform: rotate(45deg);
    }

    .device-bubble.is-open {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .device-bubble__title {
      font-size: 13px;
      font-weight: 800;
      margin-bottom: 4px;
    }

    .device-bubble__desc {
      font-size: 12px;
      margin: 0 0 10px;
      color: var(--subtext);
    }

    .device-bubble__action {
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 8px 12px;
      font-weight: 800;
      font-size: 12px;
      cursor: pointer;
      background: linear-gradient(120deg, var(--accent), var(--accent-3));
      color: #100f1f;
    }

    body.device-preview--tablet .container {
      max-width: 860px;
    }

    body.device-preview--mobile .container {
      max-width: 420px;
    }

    body.device-preview--mobile h1 {
      font-size: 24px;
    }

    body.device-preview--mobile .cards {
      grid-template-columns: 1fr;
    }

    body.device-preview--mobile .nav-layer {
      padding: 12px 16px;
      gap: 12px;
    }

    body.device-preview--mobile .nav-btn {
      padding: 10px 20px;
      font-size: 13px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .line-config-section {
      margin: 32px 0;
      position: relative;
      z-index: 2;
      isolation: isolate;
    }

    .line-config-card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 20px;
      padding: 24px;
      box-shadow: var(--glow);
      display: grid;
      gap: 18px;
      position: relative;
      z-index: 1;
      color: #111827;
    }

    .line-config-title {
      font-size: 18px;
      font-weight: 800;
      margin: 0;
    }

    .line-config-note {
      margin: 0;
      font-size: 13px;
      color: #6b7280;
    }

    .line-config-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    .line-config-field label {
      display: block;
      font-size: 12px;
      color: #4b5563;
      margin-bottom: 6px;
      font-weight: 700;
    }

    .line-config-field input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      color: #111827;
    }

    .line-config-card.is-locked {
      user-select: none;
    }

    .line-config-card.is-locked .line-config-field input {
      background: #f3f4f6;
      color: #6b7280;
      cursor: not-allowed;
    }

    .line-config-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .line-config-status {
      display: grid;
      gap: 8px;
      font-size: 13px;
      color: #6b7280;
    }

    .line-config-status pre {
      margin: 0;
      padding: 12px;
      border-radius: 12px;
      background: #f3f4f6;
      color: #111827;
      font-size: 12px;
      overflow-x: auto;
    }

    .card {
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01)), var(--panel);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 28px;
      box-shadow: var(--glow);
      transition: transform 0.2s, box-shadow 0.2s;
      text-decoration: none;
      color: var(--text);
      display: block;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 50px rgba(139, 92, 246, 0.35);
    }

    .card-title {
      font-size: 20px;
      font-weight: 800;
      margin: 0 0 12px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-icon {
      width: 38px;
      height: 38px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2), var(--accent-3));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 10px 25px rgba(251, 113, 133, 0.25);
    }

    .card-description {
      font-size: 14px;
      color: var(--subtext);
      margin: 0 0 16px;
      line-height: 1.5;
    }

    .card-features {
      list-style: none;
      padding: 0;
      margin: 0 0 20px;
    }

    .card-features li {
      font-size: 13px;
      color: var(--subtext);
      padding: 6px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .card-features li:last-child {
      border-bottom: none;
    }

    .card-features li::before {
      content: "‚úì";
      color: var(--accent);
      font-weight: bold;
      margin-right: 8px;
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      background: linear-gradient(120deg, var(--accent), var(--accent-2), var(--accent-3));
      color: #fff;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 800;
      font-size: 14px;
      transition: transform 0.2s, box-shadow 0.2s;
      text-align: center;
      box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 36px rgba(168, 85, 247, 0.45);
    }

    .info-panel {
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01)), var(--panel);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 24px;
      box-shadow: var(--glow);
    }

    .info-title {
      font-size: 18px;
      font-weight: 800;
      margin: 0 0 16px;
      color: var(--text);
    }

    .info-content {
      font-size: 14px;
      color: var(--subtext);
      line-height: 1.7;
    }

    .info-content ul {
      margin: 12px 0;
      padding-left: 20px;
    }

    .info-content li {
      margin: 8px 0;
    }

    .info-meta {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .info-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--text);
      font-weight: 800;
      font-size: 13px;
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.02);
    }

    .info-chip .icon {
      font-size: 16px;
      line-height: 1;
    }

    .news-section {
      margin: 36px 0 28px;
    }

    .news-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      flex-wrap: wrap;
    }

    .news-title-group {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .news-filter-group {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .news-pill {
      padding: 8px 14px;
      border-radius: 12px;
      background: linear-gradient(120deg, #fef08a, #fbcfe8);
      color: #0f172a;
      font-weight: 900;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      letter-spacing: 0.4px;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.28), inset 0 0 0 1px rgba(255, 255, 255, 0.32);
      text-shadow: 0 1px 6px rgba(255, 255, 255, 0.5);
    }

    .news-title {
      font-size: 22px;
      font-weight: 800;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .news-date-buttons,
    .news-category-buttons {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .news-filter-button {
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 800;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }

    .news-filter-button.is-active {
      border-color: rgba(251, 191, 36, 0.9);
      box-shadow: 0 10px 24px rgba(251, 191, 36, 0.25);
      background: rgba(251, 191, 36, 0.2);
      color: #fff7ed;
    }

    .news-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 18px;
    }

    .news-card {
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01)), var(--panel);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    .news-card-footer {
      margin-top: auto;
      display: flex;
      justify-content: flex-end;
    }

    .news-detail-button {
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border-radius: 10px;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 800;
      cursor: pointer;
    }

    .admin-fab {
      position: fixed;
      right: 24px;
      bottom: 24px;
      width: 54px;
      height: 54px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(15,23,42,0.9);
      color: #fff;
      display: grid;
      place-items: center;
      box-shadow: 0 16px 36px rgba(15,23,42,0.35);
      cursor: pointer;
      z-index: 30;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .admin-fab:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 44px rgba(15,23,42,0.45);
    }
    .admin-fab svg {
      width: 26px;
      height: 26px;
    }
    .news-modal {
      position: fixed;
      inset: 0;
      background: rgba(6, 8, 20, 0.7);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 24px;
      z-index: 1000;
    }

    .news-modal.is-open {
      display: flex;
    }

    .news-modal-content {
      width: min(720px, 92vw);
      max-height: 80vh;
      overflow-y: auto;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 20px;
      box-shadow: var(--glow);
      display: grid;
      gap: 12px;
    }

    .news-modal-header {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      align-items: center;
    }

    .news-modal-title {
      font-size: 18px;
      font-weight: 800;
      margin: 0;
    }

    .news-modal-close {
      border: none;
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 800;
      cursor: pointer;
    }

    .upgrade-icon-btn {
      position: relative;
      border: none;
      background: rgba(255, 255, 255, 0.12);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
    .upgrade-icon-btn img {
      width: 18px;
      height: 18px;
      filter: invert(100%);
    }
    .upgrade-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #f97316;
      color: #fff;
      font-size: 11px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 4px;
      border: 2px solid rgba(11, 15, 26, 0.9);
      box-sizing: border-box;
    }
    .upgrade-badge.is-hidden {
      display: none;
    }

    .upgrade-modal {
      position: fixed;
      inset: 0;
      background: rgba(5, 9, 19, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 240;
      padding: 24px;
    }
    .upgrade-modal.is-open {
      display: flex;
    }
    .upgrade-modal__panel {
      width: min(720px, 92vw);
      max-height: 90vh;
      background: linear-gradient(160deg, rgba(30, 41, 59, 0.98), rgba(15, 23, 42, 0.98));
      border-radius: 20px;
      border: 1px solid rgba(148, 163, 184, 0.2);
      box-shadow: 0 30px 60px rgba(8, 12, 24, 0.4);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .upgrade-modal__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 20px 12px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.2);
    }
    .upgrade-modal__header h3 {
      margin: 0;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: 0.3px;
    }
    .upgrade-modal__close {
      border: none;
      background: rgba(255, 255, 255, 0.12);
      color: var(--text);
      padding: 6px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
    }
    .upgrade-modal__body {
      padding: 16px 20px 20px;
      display: grid;
      gap: 16px;
      overflow: auto;
    }
    .upgrade-target-meta {
      display: flex;
      gap: 8px;
      align-items: center;
      font-size: 13px;
      color: var(--subtext);
    }
    .upgrade-target-meta strong {
      color: var(--text);
    }
    .upgrade-preview {
      border-radius: 16px;
      border: 1px dashed rgba(148, 163, 184, 0.4);
      padding: 12px;
      background: rgba(15, 23, 42, 0.4);
      display: grid;
      gap: 8px;
      justify-items: center;
    }
    .upgrade-preview img {
      width: 100%;
      max-height: 220px;
      object-fit: contain;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.2);
    }
    .upgrade-preview-note {
      font-size: 12px;
      color: var(--subtext);
    }
    .upgrade-form label {
      display: block;
      font-size: 12px;
      color: var(--subtext);
      margin-bottom: 6px;
    }
    .upgrade-form textarea {
      width: 100%;
      min-height: 90px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      background: rgba(15, 23, 42, 0.5);
      color: var(--text);
      padding: 10px 12px;
      resize: vertical;
      font-size: 13px;
    }
    .upgrade-priority {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 8px;
      margin-top: 10px;
    }
    .upgrade-priority label {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 12px;
      padding: 8px 10px;
      display: flex;
      gap: 6px;
      align-items: center;
      font-size: 12px;
      cursor: pointer;
      color: var(--text);
    }
    .upgrade-actions {
      display: flex;
      justify-content: flex-end;
      margin-top: 12px;
    }
    .upgrade-actions button {
      border: none;
      border-radius: 12px;
      background: linear-gradient(120deg, #38bdf8, #6366f1);
      color: #fff;
      font-weight: 700;
      padding: 8px 16px;
      cursor: pointer;
    }
    .upgrade-log {
      border-top: 1px solid rgba(148, 163, 184, 0.2);
      padding-top: 12px;
      display: grid;
      gap: 8px;
    }
    .upgrade-log h4 {
      margin: 0;
      font-size: 13px;
      color: var(--subtext);
    }
    .upgrade-log-list {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 8px;
    }
    .upgrade-log-item {
      background: rgba(15, 23, 42, 0.6);
      border-radius: 12px;
      padding: 10px 12px;
      border: 1px solid rgba(148, 163, 184, 0.2);
      display: grid;
      gap: 4px;
      font-size: 12px;
      color: var(--subtext);
    }
    .upgrade-log-item strong {
      color: var(--text);
    }
    .upgrade-log-item img {
      width: 100%;
      max-height: 180px;
      object-fit: contain;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.2);
      background: rgba(15, 23, 42, 0.4);
    }
    .upgrade-log-empty {
      text-align: center;
      color: var(--subtext);
      font-size: 12px;
      padding: 12px 0;
    }
    .upgrade-note {
      font-size: 12px;
      color: var(--subtext);
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(148, 163, 184, 0.1);
    }

    @media (max-width: 640px) {
      .news-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 520px) {
      .news-grid {
        grid-template-columns: 1fr;
      }
    }

    .news-image {
      height: 140px;
      border-radius: 12px;
      background: radial-gradient(circle at 20% 20%, rgba(168, 85, 247, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(14, 165, 233, 0.5), transparent 35%), linear-gradient(145deg, rgba(30, 27, 75, 0.85), rgba(12, 10, 26, 0.95));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02), 0 10px 30px rgba(0, 0, 0, 0.35);
      position: relative;
      display: flex;
      align-items: flex-end;
      overflow: hidden;
    }

    .news-image::after {
      content: "AI generated visual";
      font-size: 12px;
      letter-spacing: 0.4px;
      padding: 8px 12px;
      background: rgba(0, 0, 0, 0.55);
      color: #e0e7ff;
      border-top-right-radius: 12px;
      border-bottom-left-radius: 12px;
    }

    .news-meta {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }

    .news-source {
      font-size: 12px;
      color: var(--subtext);
    }

    .news-source a {
      color: var(--text);
      text-decoration: none;
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 700;
      color: #0f172a;
      background: linear-gradient(120deg, #fef3c7, #f5d0fe);
      box-shadow: 0 8px 18px rgba(244, 114, 182, 0.25);
    }

    .news-title-text {
      font-weight: 800;
      font-size: 16px;
      margin: 0;
    }

    .news-desc {
      margin: 0;
      color: var(--subtext);
      font-size: 14px;
      line-height: 1.6;
    }

    .news-keywords {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .keyword-tag {
      display: inline-flex;
      align-items: center;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.12);
      color: var(--text);
      font-size: 12px;
      font-weight: 700;
      text-decoration: none;
      border: 1px solid rgba(255, 255, 255, 0.15);
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .keyword-tag:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.3);
    }

    .favorite-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(255, 255, 255, 0.08);
      color: #fcd34d;
      font-size: 18px;
      font-weight: 900;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(6px);
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .favorite-btn:hover {
      transform: translateY(-2px) scale(1.02);
      background: rgba(255, 255, 255, 0.12);
      box-shadow: 0 14px 32px rgba(0, 0, 0, 0.45);
    }

    footer {
      text-align: center;
      margin-top: 56px;
      color: var(--subtext);
      font-size: 13px;
    }

    .footer-note {
      margin-top: 10px;
      font-size: 12px;
      color: rgba(216, 217, 228, 0.8);
    }

    .footer-test {
      margin-top: 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .footer-test-desc {
      margin: 0;
      font-size: 12px;
      color: rgba(216, 217, 228, 0.86);
    }

    .footer-test-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.1);
      color: var(--text);
      font-size: 12px;
      font-weight: 800;
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.25);
    }

    .footer-test-btn:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.18);
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.35);
    }

    .footer-updated {
      margin-top: 8px;
      font-size: 12px;
      color: rgba(216, 217, 228, 0.7);
    }

    .user-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 14px;
      margin-top: 12px;
      font-weight: 800;
      color: var(--text);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
      cursor: pointer;
    }

    .user-chip span {
      color: var(--subtext);
      font-size: 12px;
    }

    .user-menu-wrap {
      position: relative;
      display: inline-flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 8px;
      z-index: 40;
    }

    .user-status-list {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px 12px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.05);
      font-size: 11px;
      text-align: left;
      color: var(--subtext);
      min-width: 220px;
    }

    .user-status-item {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .user-status-item span {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .user-status-item strong {
      font-size: 12px;
      color: var(--text);
    }

    .user-menu {
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      min-width: 160px;
      padding: 8px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(11, 16, 33, 0.92);
      box-shadow: 0 18px 30px rgba(0, 0, 0, 0.35);
      display: none;
      z-index: 30;
    }

    .user-menu.is-open {
      display: grid;
      gap: 6px;
    }

    .user-menu-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid transparent;
      background: transparent;
      color: var(--text);
      font-size: 13px;
      font-weight: 700;
      text-decoration: none;
      cursor: pointer;
      transition: background 0.2s ease, border-color 0.2s ease;
    }

    .user-menu-item:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.12);
    }

    .user-menu-item span {
      color: var(--subtext);
      font-size: 11px;
      font-weight: 600;
    }

    .nav-layer {
      background: #f8f9fa;
      padding: 16px 20px;
      margin-bottom: 32px;
      border-radius: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .nav-btn {
      display: inline-block;
      padding: 12px 24px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      font-size: 14px;
      transition: background 0.2s ease, transform 0.2s ease;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .nav-btn:hover {
      background: #0056b3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .empty-state {
      grid-column: 1 / -1;
      padding: 22px;
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.04);
      color: var(--subtext);
      text-align: center;
      font-weight: 800;
    }

    .ctrl-dock {
      position: fixed;
      left: 18px;
      bottom: 18px;
      z-index: 120;
      padding: 8px 10px;
      border-radius: 18px;
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02)), var(--panel);
      border: 1px solid var(--border);
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.18),
        inset 0 -1px 0 rgba(0, 0, 0, 0.18),
        0 12px 28px rgba(15, 23, 42, 0.28);
      display: flex;
      align-items: center;
      gap: 8px;
      touch-action: manipulation;
      will-change: transform;
      overflow: visible;
    }
    .ctrl-dock.is-collapsed .ctrl-items {
      max-width: 0;
      opacity: 0;
      pointer-events: none;
      transform: translateX(8px);
      overflow: hidden;
    }
    .ctrl-dock.is-expanded #ctrlDockExpandBtn {
      display: none;
    }
    .ctrl-dock.is-collapsed #ctrlDockCollapseBtn {
      display: none;
    }
    .ctrl-dock.is-dragging {
      cursor: grabbing;
    }
    .ctrl-label {
      font-size: 11px;
      font-weight: 800;
      color: var(--subtext);
      padding: 6px 10px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid var(--border);
      letter-spacing: 0.3px;
      white-space: nowrap;
    }
    .ctrl-icon {
      width: 18px;
      height: 18px;
      display: block;
    }
    .ctrl-btn .ctrl-icon {
      width: 16px;
      height: 16px;
    }
    .ctrl-sep {
      color: var(--subtext);
      font-weight: 700;
      padding: 0 2px;
      opacity: 0.6;
    }
    .ctrl-memo {
      position: relative;
    }
    .ctrl-memo-menu {
      position: absolute;
      right: -6px;
      bottom: calc(100% - 6px);
      width: 120px;
      height: 120px;
      z-index: 5;
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
      transition: opacity 0.18s ease, transform 0.18s ease;
    }
    .ctrl-memo.is-open .ctrl-memo-menu {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }
    .ctrl-memo-menu .ctrl-btn {
      position: absolute;
      width: 36px;
      height: 36px;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .ctrl-memo-menu .ctrl-btn:nth-child(1) {
      right: 0;
      bottom: 0;
      transform: translate(-48px, -18px);
    }
    .ctrl-memo-menu .ctrl-btn:nth-child(2) {
      right: 0;
      bottom: 0;
      transform: translate(-22px, -64px);
    }
    .ctrl-memo-menu .ctrl-btn:nth-child(3) {
      right: 0;
      bottom: 0;
      transform: translate(8px, -40px);
    }
    .ctrl-drag-handle {
      cursor: grab;
      touch-action: none;
      user-select: none;
    }
    .ctrl-dock.smoke {
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.04)), var(--panel-sub);
      border-color: var(--border);
    }
    .ctrl-strip {
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 0;
    }
    .ctrl-primary {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 0 0 auto;
    }
    .ctrl-items {
      display: flex;
      align-items: center;
      gap: 8px;
      max-width: 520px;
      opacity: 1;
      transform: translateX(0);
      pointer-events: auto;
      transition: opacity 0.18s ease, transform 0.18s ease, max-width 0.18s ease;
    }
    .ctrl-btn {
      border: none;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.06);
      color: var(--text);
      font-weight: 700;
      font-size: 12px;
      cursor: pointer;
      padding: 7px 12px;
      transition: transform 0.18s ease, box-shadow 0.18s ease;
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.18),
        inset 0 -1px 0 rgba(0, 0, 0, 0.18),
        0 4px 12px rgba(15, 23, 42, 0.2);
      white-space: nowrap;
      line-height: 1;
    }
    .ctrl-btn:active {
      transform: translateY(1px);
      box-shadow:
        inset 0 2px 0 rgba(255, 255, 255, 0.22),
        inset 0 -2px 0 rgba(0, 0, 0, 0.24),
        0 2px 6px rgba(15, 23, 42, 0.24);
    }
    .ctrl-btn.is-active,
    .ctrl-btn.active,
    .display-tab.active {
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.34),
        inset 0 -2px 0 var(--accent),
        0 4px 10px rgba(0, 0, 0, 0.18);
    }
    .ctrl-dock .display-tabs {
      gap: 6px;
    }
    .ctrl-btn.ctrl-primary-save {
      font-weight: 900;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 24px;
      }

      .cards {
        grid-template-columns: 1fr;
      }

      .nav-layer {
        padding: 12px 16px;
        gap: 12px;
      }

      .nav-btn {
        padding: 10px 20px;
        font-size: 13px;
      }
    }
  </style>
</head>
<body>
  <div class="swipe-rail swipe-rail--collapsed" id="swipeRail" aria-label="„Çπ„ÉØ„Ç§„Éó„Éª„Çπ„ÇØ„É≠„Éº„É´Êìç‰Ωú„Ç®„É™„Ç¢">
    <span class="swipe-rail__label">SWIPE &amp; SCROLL</span>
    <span class="swipe-rail__divider" aria-hidden="true"></span>
  </div>
  <div class="container">
    <header>
      <h1>SenSei</h1>
      <div class="top-actions">
        <div class="device-switcher" id="deviceSwitcher" aria-label="Ë°®Á§∫„É¢„Éº„ÉâÂàá„ÇäÊõø„Åà">
          <div class="device-badges" id="deviceBadges"></div>
          <div class="device-bubble" id="deviceBubble" role="dialog" aria-hidden="true">
            <div class="device-bubble__title" id="deviceBubbleTitle"></div>
            <p class="device-bubble__desc" id="deviceBubbleDesc"></p>
            <button class="device-bubble__action" type="button" id="deviceBubbleAction">„Åì„ÅÆË°®Á§∫„Å´Âàá„ÇäÊõø„Åà„Çã</button>
          </div>
        </div>
        <div class="theme-chips" id="themeChips" aria-label="„Ç´„É©„Éº„ÉÜ„Éº„ÉûÈÅ∏Êäû"></div>
        <button class="upgrade-icon-btn" type="button" id="upgradeInboxBtn" aria-label="„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„ÉóÂ∏åÊúõ„É≠„Ç∞">
          <img src="https://www.svgrepo.com/svg/530377/chat-chattu" alt="" />
          <span class="upgrade-badge is-hidden" id="upgradeBadge">0</span>
        </button>
        <button class="btn" type="button" id="logoutBtn" style="padding:8px 14px; font-size:13px;">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
        <div class="user-menu-wrap">
          <div class="user-chip" id="userChip" aria-label="„É≠„Ç∞„Ç§„É≥„É¶„Éº„Ç∂„Éº" role="button" tabindex="0" aria-expanded="false">
            <span>„É¶„Éº„Ç∂„Éº</span>
            <div id="activeUserName">Êú™„É≠„Ç∞„Ç§„É≥</div>
          </div>
          <div class="user-status-list" aria-label="„É¶„Éº„Ç∂„ÉºÊé•Á∂ö„Çπ„ÉÜ„Éº„Çø„Çπ‰∏ÄË¶ß">
            <div class="user-status-item">
              <strong>mode</strong>
              <span>STANDARD</span>
            </div>
            <div class="user-status-item">
              <strong>version</strong>
              <span>v2.4.1</span>
            </div>
            <div class="user-status-item">
              <strong>connect</strong>
              <span>ONLINE</span>
            </div>
            <div class="user-status-item">
              <strong>ip</strong>
              <span>192.168.0.2</span>
            </div>
            <div class="user-status-item">
              <strong>network</strong>
              <span>PRIMARY</span>
            </div>
            <div class="user-status-item">
              <strong>WiFi SSID</strong>
              <span>Office-WiFi</span>
            </div>
            <div class="user-status-item">
              <strong>node status</strong>
              <span>FAILURE / PROCEED</span>
            </div>
          </div>
          <div class="user-menu" id="userMenu" role="menu" aria-label="„É¶„Éº„Ç∂„Éº„É°„Éã„É•„Éº">
            <a class="user-menu-item" href="Calcu.html#data-reload" role="menuitem">
              „Éá„Éº„ÇøË™≠Ëæº„Åø
              <span>„É°„Ç§„É≥„ÉÑ„Éº„É´„Å∏ÁßªÂãï</span>
            </a>
          </div>
        </div>
      </div>
    </header>

    <div class="cards" id="featureCards" aria-label="Âà©Áî®ÂèØËÉΩ„Å™„ÉÑ„Éº„É´‰∏ÄË¶ß"></div>

    <section class="line-config-section" aria-labelledby="lineConfigTitle">
      <div class="line-config-card">
        <div>
          <h2 class="line-config-title" id="lineConfigTitle">LINE Official Account Ë®≠ÂÆö</h2>
          <p class="line-config-note">ÂÖ¨Èñã„Åó„Å¶„Çà„ÅÑË®≠ÂÆö„ÅÆ„Åø‰øùÂ≠ò„Åó„Åæ„Åô„ÄÇChannel Access Token / Channel Secret „ÅØ„Çµ„Éº„ÉêÁí∞Â¢ÉÂ§âÊï∞„Å´‰øùÁÆ°„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
        </div>
        <form id="lineConfigForm" autocomplete="off">
          <div class="line-config-grid">
            <div class="line-config-field">
              <label for="lineDisplayName">Ë°®Á§∫ÂêçÔºàÂúíÂêç„Å™„Å©Ôºâ</label>
              <input type="text" id="lineDisplayName" placeholder="‚óã‚óã‰øùËÇ≤Âúí" />
            </div>
            <div class="line-config-field">
              <label for="lineAddFriendUrl">Âèã„Å†„Å°ËøΩÂä†URL</label>
              <input type="url" id="lineAddFriendUrl" placeholder="https://lin.ee/XXXX" />
            </div>
            <div class="line-config-field">
              <label for="lineLiffId">LIFF ID</label>
              <input type="text" id="lineLiffId" placeholder="123456-abcdef" />
            </div>
            <div class="line-config-field">
              <label for="lineDetailsBaseUrl">Ë©≥Á¥∞„Éö„Éº„Ç∏URL</label>
              <input type="url" id="lineDetailsBaseUrl" placeholder="https://webpage-three-kohl.vercel.app/detail.html" />
            </div>
            <div class="line-config-field">
              <label for="lineOtpExpireDays">OTPÊúâÂäπÊó•Êï∞</label>
              <input type="number" id="lineOtpExpireDays" min="1" max="30" placeholder="7" />
            </div>
          </div>
          <div class="line-config-actions">
            <button class="btn" type="button" id="saveLineConfig">‰øùÂ≠ò</button>
            <button class="btn" type="button" id="resetLineConfig" style="background: rgba(255,255,255,0.12); color: var(--text);">„É™„Çª„ÉÉ„Éà</button>
            <span class="subtitle" style="padding: 6px 10px;">‰øùÁÆ°ÂÖà: localStorage</span>
          </div>
        </form>
        <div class="line-config-status">
          <div id="lineConfigHealth">„Çµ„Éº„ÉêË®≠ÂÆö: Êú™Á¢∫Ë™ç</div>
          <div>ÁèæÂú®„ÅÆË®≠ÂÆö</div>
          <pre id="lineConfigCurrent">{}</pre>
        </div>
      </div>
    </section>

    <div class="news-section">
      <div class="news-header">
        <div class="news-title-group">
          <div class="news-pill">üß† COVE AI NEWS</div>
          <div class="news-filter-group">
            <div class="news-category-buttons" role="tablist" aria-label="„Éã„É•„Éº„Çπ„Ç´„ÉÜ„Ç¥„É™">
              <button class="news-filter-button is-active" type="button" data-news-category="all" role="tab" aria-selected="true">„Åô„Åπ„Å¶</button>
              <button class="news-filter-button" type="button" data-news-category="government" role="tab" aria-selected="false">ÊîøÂ∫ú</button>
              <button class="news-filter-button" type="button" data-news-category="administration" role="tab" aria-selected="false">Ë°åÊîø</button>
              <button class="news-filter-button" type="button" data-news-category="local" role="tab" aria-selected="false">Âú∞ÊñπËá™Ê≤ª</button>
              <button class="news-filter-button" type="button" data-news-category="legal" role="tab" aria-selected="false">Ê≥ï‰ª§ÊîπÊ≠£</button>
            </div>
            <div class="news-date-buttons" role="tablist" aria-label="„Éã„É•„Éº„Çπ„Ç¢„Éº„Ç´„Ç§„ÉñÊó•‰ªò">
              <button class="news-filter-button is-active" type="button" data-news-date="latest" role="tab" aria-selected="true">ÊúÄÊñ∞</button>
              <button class="news-filter-button" type="button" data-news-date="2025-02-20" role="tab" aria-selected="false">2025/02/20</button>
              <button class="news-filter-button" type="button" data-news-date="2025-02-19" role="tab" aria-selected="false">2025/02/19</button>
              <button class="news-filter-button" type="button" data-news-date="2025-02-18" role="tab" aria-selected="false">2025/02/18</button>
            </div>
          </div>
        </div>
        <p class="subtitle" style="margin: 0;">ÊØéÊó•8:00„Éª12:00„Éª16:30„Å´Êõ¥Êñ∞„Åï„Çå„ÇãÊúÄÊñ∞„Éà„Éî„ÉÉ„ÇØ„Çí„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Åó„Åæ„Åó„Åü</p>
      </div>
      <div class="news-hero" aria-hidden="true">
        <svg viewBox="0 0 760 240" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="newsHeroStroke" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#c4b5fd" />
              <stop offset="50%" stop-color="#7dd3fc" />
              <stop offset="100%" stop-color="#fcd34d" />
            </linearGradient>
          </defs>
          <rect x="80" y="50" width="600" height="140" rx="30" stroke="url(#newsHeroStroke)" stroke-width="4" fill="rgba(255,255,255,0.04)"/>
          <rect x="120" y="80" width="160" height="80" rx="18" stroke="#f8fafc" stroke-width="3" fill="rgba(15,23,42,0.65)"/>
          <path d="M160 120H240" stroke="#f8fafc" stroke-width="6" stroke-linecap="round"/>
          <path d="M150 104H250" stroke="#e2e8f0" stroke-width="4" stroke-linecap="round"/>
          <path d="M150 136H250" stroke="#e2e8f0" stroke-width="4" stroke-linecap="round"/>
          <rect x="330" y="70" width="200" height="100" rx="24" stroke="#94a3b8" stroke-width="3" fill="rgba(15,23,42,0.5)"/>
          <path d="M360 110H500" stroke="#e2e8f0" stroke-width="6" stroke-linecap="round"/>
          <path d="M360 132H470" stroke="#cbd5f5" stroke-width="4" stroke-linecap="round"/>
          <rect x="560" y="90" width="90" height="60" rx="18" stroke="#fcd34d" stroke-width="3" fill="rgba(251,191,36,0.18)"/>
          <path d="M580 120H630" stroke="#f8fafc" stroke-width="6" stroke-linecap="round"/>
          <path d="M100 180H660" stroke="url(#newsHeroStroke)" stroke-width="4" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="news-grid" id="newsGrid"></div>
    </div>

    <div class="news-modal" id="newsModal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="news-modal-content">
        <div class="news-modal-header">
          <h3 class="news-modal-title" id="newsModalTitle">Ë®ò‰∫ãË©≥Á¥∞</h3>
          <button class="news-modal-close" type="button" id="newsModalClose">Èñâ„Åò„Çã</button>
        </div>
        <p class="news-desc" id="newsModalDesc"></p>
        <p class="news-source" id="newsModalSource"></p>
        <div class="news-meta" id="newsModalTags"></div>
        <div class="news-keywords" id="newsModalKeywords"></div>
      </div>
    </div>

    <div class="upgrade-modal" id="upgradeModal" aria-hidden="true">
      <div class="upgrade-modal__panel" role="dialog" aria-modal="true" aria-labelledby="upgradeModalTitle">
        <div class="upgrade-modal__header">
          <h3 id="upgradeModalTitle">„Éê„Éº„Ç∏„Éß„É≥„Ç¢„ÉÉ„ÉóÂ∏åÊúõÔºÅ</h3>
          <button class="upgrade-modal__close" type="button" id="upgradeModalClose">Èñâ„Åò„Çã</button>
        </div>
        <div class="upgrade-modal__body">
          <div class="upgrade-target-meta">
            <span>ÂØæË±°:</span>
            <strong id="upgradeTargetType">Êú™ÈÅ∏Êäû</strong>
          </div>
          <div class="upgrade-target-meta">
            <span>Ê§úÂá∫ÂÜÖÂÆπ:</span>
            <strong id="upgradeTargetText">Âè≥„ÇØ„É™„ÉÉ„ÇØÔºàÈï∑Êäº„Åó„Çø„ÉÉ„ÉóÔºâ„ÅßÂØæË±°„ÇíÈÅ∏Êäû</strong>
          </div>
          <div class="upgrade-preview">
            <img id="upgradeCapture" alt="Ë©≤ÂΩìÈÉ®ÂàÜ„ÅÆ„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà" />
            <div class="upgrade-preview-note">Ë©≤ÂΩìÈÉ®ÂàÜ„ÅÆ„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Ç§„É°„Éº„Ç∏</div>
          </div>
          <div class="upgrade-note">
            ÈÄÅ‰ø°„Åß„Åç„ÇãÈ†ÖÁõÆ: „Éú„Çø„É≥ / Ë°®Á§∫„ÉÜ„Ç≠„Çπ„Éà / „Ç§„É°„Éº„Ç∏ÁîªÂÉè / ‰ΩôÁôΩÔºàÂë®Âõ≤Ëá™ÂãïÂà§ÂÆöÔºâ„ÄÇ
          </div>
          <div class="upgrade-form">
            <label for="upgradeMessage">„ÉÜ„Ç≠„Çπ„ÉàÂÖ•Âäõ</label>
            <textarea id="upgradeMessage" placeholder="ÊîπÂñÑ„Åó„Åü„ÅÑ„Éù„Ç§„É≥„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"></textarea>
            <div class="upgrade-priority" role="radiogroup" aria-label="ÈáçË¶ÅÂ∫¶">
              <label><input type="radio" name="upgradePriority" value="„Åô„Åê„Å´ÔºÅ" />„Åô„Åê„Å´ÔºÅ</label>
              <label><input type="radio" name="upgradePriority" value="Ê§úË®é„ÅåÂøÖË¶Å" />Ê§úË®é„ÅåÂøÖË¶Å</label>
              <label><input type="radio" name="upgradePriority" value="Ë¶ÅÊúõ„Éª„ÅîÊÑèË¶ã" checked />Ë¶ÅÊúõ„Éª„ÅîÊÑèË¶ã</label>
              <label><input type="radio" name="upgradePriority" value="ÊÄ•„Åé„Åò„ÇÉ„Å™„ÅÑ" />ÊÄ•„Åé„Åò„ÇÉ„Å™„ÅÑ</label>
            </div>
            <div class="upgrade-actions">
              <button type="button" id="upgradeSendBtn">ÈÄÅ‰ø°</button>
            </div>
          </div>
          <div class="upgrade-log">
            <h4>ÈÄÅ‰ø°„É≠„Ç∞</h4>
            <ul class="upgrade-log-list" id="upgradeLogList"></ul>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p>¬© <span id="currentYear">2024</span> ‰øùËÇ≤ÂúíÂª∂Èï∑„ÉªÈ†ê„Åã„Çä‰øùËÇ≤Ë®àÁÆó„ÉÑ„Éº„É´</p>
      <p class="footer-note">„ÉÜ„Çπ„Éà„É¢„Éº„Éâ„ÅØÁÆ°ÁêÜÁîªÈù¢„Åã„ÇâÂàá„ÇäÊõø„Åà„ÄÅÊ§úË®ºÁî®„Éá„Éº„Çø„ÇíÂèñ„ÇäËæº„ÇÄ„Åì„Å®„ÅßÊú¨Áï™„Éá„Éº„Çø„Å´ÂΩ±Èüø„Åõ„ÅöÂãï‰ΩúÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô„ÄÇ</p>
      <div class="footer-test">
        <p class="footer-test-desc">„ÉÜ„Çπ„Éà„É¢„Éº„Éâ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„Çí„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅÁÆ°ÁêÜ„Éö„Éº„Ç∏„Åã„ÇâÊ∫ñÂÇô„ÇíÈÄ≤„ÇÅ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
      </div>
      <p class="footer-updated" id="lastUpdated"></p>
    </footer>
  </div>
  <div id="ctrlDock" class="ctrl-dock is-collapsed" aria-label="„Ç≥„É≥„Éà„É≠„Éº„É©„Éº„Éê„Éº">
    <div class="ctrl-label ctrl-drag-handle" id="ctrlDockHandle" aria-label="Ê©üËÉΩ„Ç≥„É≥„Éà„É≠„Éº„É©„Éº„Çí„Éâ„É©„ÉÉ„Ç∞„Åó„Å¶ÁßªÂãï">
      <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
        <circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/>
      </svg>
    </div>
    <div class="ctrl-strip">
      <div class="ctrl-primary" role="group" aria-label="‰∏ªË¶ÅÊìç‰Ωú">
        <div class="display-tabs ctrl-tabs" role="tablist" aria-label="Ë°®Á§∫„ÅÆÂàáÊõø">
          <button type="button" class="ctrl-btn display-tab" role="tab" data-display-tab="detail" aria-controls="detailPanel" aria-label="Êó•Ê¨°Ë°®Á§∫" title="Êó•Ê¨°Ë°®Á§∫">
            <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
              <rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>
            </svg>
          </button>
          <button type="button" class="ctrl-btn display-tab" role="tab" data-display-tab="summary" aria-controls="summaryPanel" aria-label="„Çµ„Éû„É™„ÉºË°®Á§∫" title="„Çµ„Éû„É™„ÉºË°®Á§∫">
            <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
              <rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M3 15h18"/><path d="M9 3v18"/><path d="M15 3v18"/>
            </svg>
          </button>
          <span class="ctrl-sep" aria-hidden="true">|</span>
        </div>
        <button type="button" id="quickSaveButton" class="ctrl-btn ctrl-primary-save" aria-label="‰øùÂ≠ò" title="‰øùÂ≠ò">
          <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/><path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"/><path d="M7 3v4a1 1 0 0 0 1 1h7"/>
          </svg>
        </button>
        <button type="button" id="ctrlDockExpandBtn" class="ctrl-btn" aria-expanded="false" aria-controls="ctrlDockItems">Ôºû</button>
      </div>
      <div class="ctrl-items" id="ctrlDockItems" role="group" aria-label="ËøΩÂä†Êìç‰Ωú">
        <button type="button" class="ctrl-btn" id="ctrlPrintButton" aria-label="Âç∞Âà∑" title="Âç∞Âà∑">
          <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><path d="M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"/><rect x="6" y="14" width="12" height="8" rx="1"/>
          </svg>
        </button>
        <div class="ctrl-memo" id="memoQuickWrap">
          <button type="button" class="ctrl-btn" id="memoQuickBtn" aria-label="‰ªòÁÆã" title="‰ªòÁÆã" aria-expanded="false" aria-controls="memoQuickMenu">
            <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
              <path d="M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"/><path d="M15 3v5a1 1 0 0 0 1 1h5"/>
            </svg>
          </button>
          <div class="ctrl-memo-menu" id="memoQuickMenu" role="menu" aria-label="‰ªòÁÆã„ÅÆÁ®ÆÈ°û">
            <button type="button" class="ctrl-btn" id="memoHandwriteBtn" role="menuitem" aria-label="‰ªòÁÆãÔºàÊâãÊõ∏„ÅçÔºâ" title="‰ªòÁÆãÔºàÊâãÊõ∏„ÅçÔºâ">
              <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                <circle cx="7" cy="12" r="3"/><path d="M10 9v6"/><circle cx="17" cy="12" r="3"/><path d="M14 7v8"/><path d="M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1"/>
              </svg>
            </button>
            <button type="button" class="ctrl-btn" id="memoTextBtn" role="menuitem" aria-label="‰ªòÁÆãÔºàÊñáÂ≠óÔºâ" title="‰ªòÁÆãÔºàÊñáÂ≠óÔºâ">
              <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                <circle cx="7" cy="12" r="3"/><path d="M10 9v6"/><circle cx="17" cy="12" r="3"/><path d="M14 7v8"/><path d="M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1"/>
              </svg>
            </button>
            <button type="button" class="ctrl-btn" id="memoImageBtn" role="menuitem" aria-label="‰ªòÁÆãÔºàÁîªÂÉèÔºâ" title="‰ªòÁÆãÔºàÁîªÂÉèÔºâ">
              <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
              </svg>
            </button>
          </div>
        </div>
        <button type="button" class="ctrl-btn" id="logWindowButton" aria-label="„É≠„Ç∞" title="„É≠„Ç∞">
          <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path d="M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"/><path d="M7 11h10"/><path d="M7 15h6"/><path d="M7 7h8"/>
          </svg>
        </button>
        <button type="button" class="ctrl-btn" id="memoPlacementBtn" aria-label="Ë®≠ÁΩÆ„É¢„Éº„Éâ" title="Ë®≠ÁΩÆ„É¢„Éº„Éâ" aria-pressed="false">
          <svg class="ctrl-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path d="M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"/><path d="M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"/><path d="M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"/><path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/>
          </svg>
        </button>
        <button type="button" class="ctrl-btn" id="ctrlDockCollapseBtn" aria-expanded="true" aria-controls="ctrlDockItems">Ôºú</button>
      </div>
    </div>
  </div>
  <a class="admin-fab" id="adminFab" href="admin-management-menu.html" aria-label="ÁÆ°ÁêÜËÄÖ„É≠„Ç∞„Ç§„É≥">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M7 11a4 4 0 1 1 6.8 2.8L11 16.6V19H8v-2.4l2.8-2.8" />
      <path d="M15.5 8.5h4.5v3l-2 2v2H16v-2l-2-2v-1" />
    </svg>
  </a>
  <script>
    (function(){
      const session = window.EnchoSession;
      const user = session?.getActiveUser();
      const nameEl = document.getElementById("activeUserName");
      if (nameEl) nameEl.textContent = user || "Êú™„É≠„Ç∞„Ç§„É≥";
      window.addEventListener("load", () => {
        if (user) session?.storeLastPageIfSignedIn();
      });

      const chipRoot = document.getElementById("themeChips");
      const renderChips = () => {
        if (!chipRoot || !window.EnchoTheme?.THEMES) return;
        const active = window.EnchoTheme.getActiveThemeName();
        const items = Object.entries(window.EnchoTheme.THEMES).map(([key, value]) => {
          const label = value?.label || key;
          const activeClass = key === active ? "active" : "";
          return `<button class="theme-chip ${activeClass}" data-theme="${key}">${label}</button>`;
        }).join("");
        chipRoot.innerHTML = items;
        chipRoot.querySelectorAll(".theme-chip").forEach(btn => {
          btn.addEventListener("click", () => {
            const themeKey = btn.dataset.theme;
            window.EnchoTheme?.applyTheme(themeKey);
            window.EnchoTheme?.saveActiveThemeName(themeKey);
            renderChips();
          });
        });
      };
      renderChips();

      const logoutBtn = document.getElementById("logoutBtn");
      if (logoutBtn){
        if (user) {
          logoutBtn.addEventListener("click", () => {
            session?.clearActiveUser?.();
            window.location.href = "login.html";
          });
        } else {
          logoutBtn.textContent = "„É≠„Ç∞„Ç§„É≥";
          logoutBtn.addEventListener("click", () => {
            window.location.href = "login.html";
          });
        }
      }

      const userChip = document.getElementById("userChip");
      const userMenu = document.getElementById("userMenu");
      const closeUserMenu = () => {
        if (!userMenu || !userChip) return;
        userMenu.classList.remove("is-open");
        userChip.setAttribute("aria-expanded", "false");
      };
      const toggleUserMenu = () => {
        if (!userMenu || !userChip) return;
        const isOpen = userMenu.classList.toggle("is-open");
        userChip.setAttribute("aria-expanded", isOpen ? "true" : "false");
      };
      if (userChip && userMenu) {
        userChip.addEventListener("click", (event) => {
          event.stopPropagation();
          toggleUserMenu();
        });
        userChip.addEventListener("keydown", (event) => {
          if (event.key === "Enter" || event.key === " ") {
            event.preventDefault();
            toggleUserMenu();
          } else if (event.key === "Escape") {
            closeUserMenu();
          }
        });
        document.addEventListener("click", (event) => {
          if (!userMenu.contains(event.target) && !userChip.contains(event.target)) {
            closeUserMenu();
          }
        });
      }

      document.querySelectorAll("[data-admin-only]").forEach((element) => {
        if (user !== "admin") {
          element.setAttribute("aria-hidden", "true");
          element.hidden = true;
        }
      });

      const subtitleEl = document.getElementById("homepageSubtitle");
      const subtitleText = session?.getHomepageSubtitle?.() || session?.DEFAULT_HOMEPAGE_SUBTITLE;
      if (subtitleEl && subtitleText) subtitleEl.textContent = subtitleText;

      const featureCardsRoot = document.getElementById("featureCards");
      const createFeatureCard = (feature) => {
        const bullets = Array.isArray(feature.featureList) ? feature.featureList : [];
        const featureItems = bullets.map((item) => `<li>${item}</li>`).join("");
        const ctaText = feature.cta || "Èñã„Åè ‚Üí";
        return `
          <a href="${feature.href}" class="card" data-feature-id="${feature.id}">
            <div class="card-title">
              <div class="card-icon">${feature.icon || "‚≠êÔ∏è"}</div>
              ${feature.title}
            </div>
            <p class="card-description">${feature.description || ""}</p>
            <ul class="card-features">
              ${featureItems}
            </ul>
            <div class="btn">${ctaText}</div>
          </a>
        `;
      };

      const renderFeatureCards = () => {
        if (!featureCardsRoot) return;
        const allFeatures = session?.getFeatures?.() || session?.getDefaultFeatures?.() || [];
        const enabled = allFeatures.filter((item) => item.enabled !== false);
        if (!enabled.length) {
          featureCardsRoot.innerHTML = `
            <div class="empty-state">
              Âà©Áî®ÂèØËÉΩ„Å™Ê©üËÉΩ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÁÆ°ÁêÜ„Éö„Éº„Ç∏„ÅßÊúâÂäπÂåñ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
            </div>
          `;
          return;
        }
        featureCardsRoot.innerHTML = enabled.map(createFeatureCard).join("");
        if (!user) {
          const loginRedirectBase = "login.html?redirect=";
          const redirectCard = featureCardsRoot.querySelector('[data-feature-id="calcu"]');
          if (redirectCard) {
            const target = redirectCard.getAttribute("href") || "Calcu.html";
            redirectCard.setAttribute("href", `${loginRedirectBase}${encodeURIComponent(target)}`);
          }
        }
      };

      renderFeatureCards();

      const LINE_CONFIG_KEY = "encho_line_config";
      const lineConfigForm = document.getElementById("lineConfigForm");
      const lineConfigCard = document.querySelector(".line-config-card");
      const lineDisplayName = document.getElementById("lineDisplayName");
      const lineAddFriendUrl = document.getElementById("lineAddFriendUrl");
      const lineLiffId = document.getElementById("lineLiffId");
      const lineDetailsBaseUrl = document.getElementById("lineDetailsBaseUrl");
      const lineOtpExpireDays = document.getElementById("lineOtpExpireDays");
      const saveLineConfig = document.getElementById("saveLineConfig");
      const resetLineConfig = document.getElementById("resetLineConfig");
      const lineConfigCurrent = document.getElementById("lineConfigCurrent");
      const lineConfigHealth = document.getElementById("lineConfigHealth");

      const readLineConfig = () => {
        const raw = localStorage.getItem(LINE_CONFIG_KEY);
        if (!raw) return {};
        try {
          return JSON.parse(raw);
        } catch (error) {
          console.warn("Failed to parse line config", error);
          return {};
        }
      };

      const renderLineConfigCurrent = (config) => {
        if (lineConfigCurrent) {
          lineConfigCurrent.textContent = JSON.stringify(config || {}, null, 2);
        }
      };

      const hasLineConfigValues = (config) => {
        if (!config) return false;
        return Boolean(
          config.displayName ||
          config.addFriendUrl ||
          config.liffId ||
          config.detailsBaseUrl ||
          config.otpExpireDays
        );
      };

      const setLineConfigLock = (isLocked) => {
        if (lineConfigCard) lineConfigCard.classList.toggle("is-locked", isLocked);
        if (lineConfigForm) lineConfigForm.classList.toggle("is-locked", isLocked);
        [
          lineDisplayName,
          lineAddFriendUrl,
          lineLiffId,
          lineDetailsBaseUrl,
          lineOtpExpireDays
        ].forEach((input) => {
          if (input) input.readOnly = isLocked;
        });
      };

      const applyLineConfigToForm = (config) => {
        if (!config) return;
        if (lineDisplayName) lineDisplayName.value = config.displayName || "";
        if (lineAddFriendUrl) lineAddFriendUrl.value = config.addFriendUrl || "";
        if (lineLiffId) lineLiffId.value = config.liffId || "";
        if (lineDetailsBaseUrl) lineDetailsBaseUrl.value = config.detailsBaseUrl || "";
        if (lineOtpExpireDays) lineOtpExpireDays.value = config.otpExpireDays ?? "";
      };

      const collectLineConfigFromForm = () => {
        const otpDays = Number(lineOtpExpireDays?.value);
        return {
          displayName: lineDisplayName?.value.trim() || "",
          addFriendUrl: lineAddFriendUrl?.value.trim() || "",
          liffId: lineLiffId?.value.trim() || "",
          detailsBaseUrl: lineDetailsBaseUrl?.value.trim() || "",
          otpExpireDays: Number.isFinite(otpDays) && otpDays > 0 ? otpDays : null
        };
      };

      const saveLineConfigToStorage = () => {
        const config = collectLineConfigFromForm();
        localStorage.setItem(LINE_CONFIG_KEY, JSON.stringify(config));
        renderLineConfigCurrent(config);
        setLineConfigLock(true);
      };

      const resetLineConfigForm = () => {
        localStorage.removeItem(LINE_CONFIG_KEY);
        if (lineConfigForm) lineConfigForm.reset();
        renderLineConfigCurrent({});
        setLineConfigLock(false);
      };

      if (saveLineConfig) {
        saveLineConfig.addEventListener("click", saveLineConfigToStorage);
      }
      if (resetLineConfig) {
        resetLineConfig.addEventListener("click", resetLineConfigForm);
      }
      if (lineConfigForm) {
        ["copy", "cut", "dragstart", "contextmenu", "selectstart"].forEach((eventName) => {
          lineConfigForm.addEventListener(eventName, (event) => {
            if (lineConfigForm.classList.contains("is-locked")) {
              event.preventDefault();
            }
          });
        });
      }

      const initialConfig = readLineConfig();
      applyLineConfigToForm(initialConfig);
      renderLineConfigCurrent(initialConfig);
      setLineConfigLock(hasLineConfigValues(initialConfig));

      const checkLineHealth = async () => {
        if (!lineConfigHealth) return;
        try {
          const res = await fetch("/api/health/line");
          lineConfigHealth.textContent = res.ok ? "„Çµ„Éº„ÉêË®≠ÂÆö: OK" : "„Çµ„Éº„ÉêË®≠ÂÆö: NG";
        } catch (error) {
          lineConfigHealth.textContent = "„Çµ„Éº„ÉêË®≠ÂÆö: NG";
        }
      };
      checkLineHealth();

      const NEWS_ITEMS = [
        {
          title: "È†ê„Åã„Çä‰øùËÇ≤Êñô„ÅÆË£úÂä©È°ç„ÄÅÊù•Âπ¥Â∫¶„Åã„ÇâÊÆµÈöéÁöÑ„Å´Êã°ÂÖÖ„Å∏",
          desc: "Ëá™Ê≤ª‰Ωì„ÅåË°å„ÅÜ‰øùË≠∑ËÄÖË≤†ÊãÖËªΩÊ∏õÁ≠ñ„Å®„Åó„Å¶„ÄÅÊúàÈ°ç‰∏äÈôêË£úÂä©„Åå+1,500ÂÜÜÊã°ÂÖÖ‰∫àÂÆö„ÄÇAI„ÅßË£úÂä©ÂØæË±°„ÇíËá™ÂãïÂà§ÂÆö„Åô„ÇãÂÆüË®º„ÇÇÂêåÊôÇ„Å´ÈÄ≤Ë°å‰∏≠„ÄÇ",
          category: "local",
          source: { label: "‰∫¨ÈÉΩÂ∫ú", url: "https://www.pref.kyoto.jp/shinchaku/index.html" },
          tags: [
            { label: "Âä©Êàê„ÉªË£úÂä©" },
            { label: "Ëá™Ê≤ª‰Ωì", style: "background: linear-gradient(120deg, #e0f2fe, #cffafe);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(236, 72, 153, 0.5), transparent 40%), radial-gradient(circle at 70% 10%, rgba(59, 130, 246, 0.5), transparent 40%), linear-gradient(135deg, rgba(30, 27, 75, 0.9), rgba(17, 24, 39, 0.95))",
          link: "https://example.com/news1",
          keywords: ["È†ê„Åã„Çä‰øùËÇ≤", "Ë£úÂä©Èáë", "‰øùË≠∑ËÄÖË≤†ÊãÖ"]
        },
        {
          title: "Â§ïÊñπ„ÅÆË¶ãÂÆà„Çä‰ΩìÂà∂„ÇíÂº∑Âåñ„ÄÅÂª∂Èï∑‰øùËÇ≤„ÅßÁúãË≠∑Â∏´ÈÖçÁΩÆÊã°Â§ß",
          desc: "16:30‰ª•Èôç„ÅÆÊôÇÈñìÂ∏Ø„Å´ÁúãË≠∑Â∏´„Éª‰øùËÇ≤Â£´„ÇíËøΩÂä†ÈÖçÁΩÆ„ÄÇAI„ÅßÊ∑∑Èõë‰∫àÊ∏¨„ÇíÂá∫„Åó„ÄÅ„Éî„Éº„ÇØÂ∏Ø„ÅÆÈÖçÁΩÆ„Åå10ÂàÜÂçò‰Ωç„ÅßÊúÄÈÅ©Âåñ„Åï„Çå„Åæ„Åó„Åü„ÄÇ",
          category: "administration",
          source: { label: "ÂéöÁîüÂä¥ÂÉçÁúÅ", url: "https://www.mhlw.go.jp/stf/houdou/" },
          tags: [
            { label: "Âúí„ÅÆÂãï„Åç", style: "background: linear-gradient(120deg, #ffe4e6, #fef9c3);" },
            { label: "Âª∂Èï∑‰øùËÇ≤", style: "background: linear-gradient(120deg, #ede9fe, #f5d0fe);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(74, 222, 128, 0.48), transparent 45%), radial-gradient(circle at 80% 20%, rgba(251, 191, 36, 0.42), transparent 40%), linear-gradient(145deg, rgba(9, 9, 11, 0.92), rgba(6, 95, 70, 0.9))",
          link: "https://example.com/news2",
          keywords: ["Âª∂Èï∑‰øùËÇ≤", "ÁúãË≠∑Â∏´ÈÖçÁΩÆ", "ÂÆâÂÖ®ÂØæÁ≠ñ"]
        },
        {
          title: "„ÅäËøé„ÅàÂæå„ÅÆ„Çπ„Ç§„ÉÉ„ÉÅ„É≥„Ç∞ÈÅä„Å≥„Åß„ÄåÂ∏∞ÂÆÖ„Åê„Åö„Çä„ÄçËªΩÊ∏õ",
          desc: "AI„Åå„ÅäËøé„ÅàÊôÇÈñìÂ∏Ø„ÅÆÊ∞óÂàÜ„Çí‰∫àÊ∏¨„Åó„ÄÅÂúíÂÜÖ„Åß3ÂàÜ„Éü„ÉãÈÅä„Å≥„ÇíÊèêÊ°à„ÄÇÂÆ∂Â∫≠„Å∏„ÅÆÂÖ±Êúâ„Åß„ÄåÂ∏∞ÂÆÖÂ∞éÁ∑ö„Åå„Çπ„É†„Éº„Ç∫„Å´„Äç„Å®Â•ΩË©ï„ÄÇ",
          category: "administration",
          source: { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", url: "https://www.cfa.go.jp/news" },
          tags: [
            { label: "„Ç¢„Ç§„Éá„Ç¢", style: "background: linear-gradient(120deg, #d9f99d, #bef264);" },
            { label: "ÂÆ∂Â∫≠ÈÄ£Êê∫", style: "background: linear-gradient(120deg, #fbcfe8, #e9d5ff);" }
          ],
          background: "radial-gradient(circle at 30% 25%, rgba(14, 165, 233, 0.45), transparent 50%), radial-gradient(circle at 90% 0%, rgba(236, 72, 153, 0.42), transparent 35%), linear-gradient(150deg, rgba(9, 9, 11, 0.92), rgba(30, 41, 59, 0.94))",
          link: "https://example.com/news3",
          keywords: ["Â∏∞ÂÆÖ„Åê„Åö„Çä", "Ë¶™Â≠êÈÅä„Å≥", "ÂÆ∂Â∫≠ÈÄ£Êê∫"]
        },
        {
          title: "Âúí„Å†„Çà„Çä„ÇíAI„ÅßËá™Âãï„É¨„Ç§„Ç¢„Ç¶„Éà„ÄÅÈÄ±1ÊôÇÈñìÂàÜ„ÅÆ‰ΩúÊ•≠„ÇíÂâäÊ∏õ",
          desc: "ÂÜôÁúü„Å®Áü≠„ÅÑ„É°„É¢„ÇíÊäïÂÖ•„Åô„Çã„Å®Â≠£ÁØÄ„ÅÆÈ£æ„ÇäÊû†‰ªò„ÅçPDF„ÇíÁîüÊàê„ÄÇÈÖçÂ∏ÉÂâç„ÅÆË™§Â≠ó„ÉÅ„Çß„ÉÉ„ÇØ„ÇÇAI„ÅåËá™Âãï„ÅßÊèêÊ°à„Åó„Åæ„Åô„ÄÇ",
          category: "administration",
          source: { label: "ÊñáÈÉ®ÁßëÂ≠¶ÁúÅ", url: "https://www.mext.go.jp/b_menu/b002.htm" },
          tags: [
            { label: "„Éá„Ç∏„Çø„É´", style: "background: linear-gradient(120deg, #fef9c3, #bbf7d0);" },
            { label: "Ê•≠ÂãôÂäπÁéá", style: "background: linear-gradient(120deg, #e9d5ff, #c7d2fe);" }
          ],
          background: "radial-gradient(circle at 15% 35%, rgba(59, 130, 246, 0.45), transparent 45%), radial-gradient(circle at 90% 15%, rgba(244, 114, 182, 0.5), transparent 35%), linear-gradient(135deg, rgba(24, 24, 27, 0.92), rgba(17, 24, 39, 0.95))",
          link: "https://example.com/news4",
          keywords: ["Âúí„Å†„Çà„Çä", "AI„É¨„Ç§„Ç¢„Ç¶„Éà", "Ê•≠ÂãôÂäπÁéá"]
        },
        {
          title: "Â§ïÊñπ„ÅÆ„Åä„ÇÑ„Å§„Å´„Åü„Çì„Å±„ÅèË≥™ËøΩÂä†„ÄÅÂª∂Èï∑Â∏Ø„ÅÆÈõÜ‰∏≠Âäõ„Ç¢„ÉÉ„Éó",
          desc: "ÊûùË±Ü„ÉÅ„Éº„Ç∫„ÇÑ„ÇÆ„É™„Ç∑„É£„É®„Éº„Ç∞„É´„Éà„Å™„Å©„ÄÅ5ÂàÜ„ÅßÂá∫„Åõ„ÇãË£úÈ£ü„É°„Éã„É•„Éº„ÇíÂ∞éÂÖ•„ÄÇAI„ÅßÊ†ÑÈ§ä„Éê„É©„É≥„Çπ„ÇíËá™Âãï„Çπ„Ç≥„Ç¢Âåñ„ÄÇ",
          category: "administration",
          source: { label: "ÂéöÁîüÂä¥ÂÉçÁúÅ", url: "https://www.mhlw.go.jp/stf/new-info/" },
          tags: [
            { label: "È£üËÇ≤", style: "background: linear-gradient(120deg, #ffedd5, #fed7aa);" },
            { label: "ÂÅ•Â∫∑", style: "background: linear-gradient(120deg, #bae6fd, #bfdbfe);" }
          ],
          background: "radial-gradient(circle at 25% 20%, rgba(253, 224, 71, 0.5), transparent 40%), radial-gradient(circle at 80% 0%, rgba(34, 211, 238, 0.45), transparent 40%), linear-gradient(150deg, rgba(19, 22, 34, 0.94), rgba(8, 47, 73, 0.9))",
          link: "https://example.com/news5",
          keywords: ["Ë£úÈ£ü„É°„Éã„É•„Éº", "„Åü„Çì„Å±„ÅèË≥™", "ÈõÜ‰∏≠Âäõ„Ç¢„ÉÉ„Éó"]
        },
        {
          title: "ÁÅΩÂÆ≥ÊôÇÂºï„ÅçÊ∏°„Åó„ÅÆË®ìÁ∑¥„ÇíAI„Ç∑„Éä„É™„Ç™„ÅßËá™ÂãïÁîüÊàê„ÄÅËÅ∑Âì°Á†î‰øÆ„Å´",
          desc: "Âú∞Âüü„ÅÆ„Éè„Ç∂„Éº„Éâ„Éû„ÉÉ„Éó„ÇíË™≠„ÅøËæº„Åø„ÄÅÈÅøÈõ£ÁµåË∑Ø„Å®ÂΩπÂâ≤ÂàÜÊãÖ„ÇíÂèØË¶ñÂåñ„Åó„ÅüË®ìÁ∑¥Âè∞Êú¨„Çí‰ΩúÊàê„ÄÇÊåØ„ÇäËøî„Çä„É¨„Éù„Éº„Éà„ÇÇÂç≥ÊôÇÂá∫Âäõ„ÄÇ",
          category: "government",
          source: { label: "ÂÜÖÈñ£Â∫ú", url: "https://www.cao.go.jp/press/houdou.html" },
          tags: [
            { label: "Èò≤ÁÅΩ", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÂÆâÂÖ®", style: "background: linear-gradient(120deg, #dcfce7, #bbf7d0);" }
          ],
          background: "radial-gradient(circle at 18% 28%, rgba(52, 211, 153, 0.5), transparent 40%), radial-gradient(circle at 80% 12%, rgba(147, 197, 253, 0.48), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(24, 24, 27, 0.94))",
          link: "https://example.com/news6",
          keywords: ["Èò≤ÁÅΩË®ìÁ∑¥", "Âºï„ÅçÊ∏°„Åó", "Á†î‰øÆ„Ç∑„Éä„É™„Ç™"]
        },
        {
          title: "Áù°Áú†„É≠„Ç∞„ÇíAI„ÅåË¶ÅÁ¥Ñ„ÄÅÊòºÂØù„ÅÆË≥™„Çí„ÄåËâ≤„Äç„ÅßÂÖ±Êúâ",
          desc: "ÂúíÂÜÖ„Çª„É≥„Çµ„Éº„Å®ÊâãÂÖ•Âäõ„ÅÆÁù°Áú†Ë®òÈå≤„ÇíAI„ÅåË¶ÅÁ¥Ñ„Åó„ÄÅ‰øùË≠∑ËÄÖ„Å´„ÅØ3Ëâ≤„ÅÆ„ÄåÁú†„Çä„É°„Éº„Çø„Éº„Äç„ÅßÈÄöÁü•„ÄÇÂÆ∂Â∫≠„ÅÆÂ∞±ÂØù„É™„Ç∫„É†„ÇÇÊï¥„ÅÑ„ÇÑ„Åô„ÅÑ„Å®Ë©±È°å„ÄÇ",
          category: "government",
          source: { label: "ÂÜÖÈñ£Â∫ú", url: "https://www.cao.go.jp/rss/news.rdf" },
          tags: [
            { label: "AIÊ¥ªÁî®", style: "background: linear-gradient(120deg, #a7f3d0, #99f6e4);" },
            { label: "Áù°Áú†", style: "background: linear-gradient(120deg, #dbeafe, #e0e7ff);" }
          ],
          background: "radial-gradient(circle at 24% 18%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 70% 15%, rgba(16, 185, 129, 0.42), transparent 35%), linear-gradient(140deg, rgba(9, 9, 11, 0.92), rgba(15, 23, 42, 0.94))",
          link: "https://example.com/news7",
          keywords: ["Áù°Áú†„É≠„Ç∞", "ÊòºÂØù", "‰øùË≠∑ËÄÖÂÖ±Êúâ"]
        },
        {
          title: "ÂúíÂÖê„ÅÆ„Äå‰ªäÊó•„ÅÆÊ∞óÂàÜ„Äç„ÇíAI„ÅßÂèØË¶ñÂåñ„ÄÅÈÖçÊÖÆ„Éù„Ç§„É≥„Éà„ÇíÊèêÊ°à",
          desc: "Êúù„ÅÆ‰∏ÄË®Ä„É°„É¢„ÇÑË°®ÊÉÖ„ÉÅ„Çß„ÉÉ„ÇØ„Çí„ÇÇ„Å®„Å´„ÄÅAI„Åå„ÄåÈùô„Åã„Å™Ê¥ªÂãï„Äç„ÄåÂ§ñÈÅä„Å≥„Äç„Å™„Å©„ÅÆ„Åä„Åô„Åô„ÇÅ„ÇíÊèêÁ§∫„ÄÇ„ÇØ„É©„ÇπÈÅãÂñ∂„ÅÆ„Éê„É©„É≥„Çπ„ÅåÊîπÂñÑ„ÄÇ",
          category: "administration",
          source: { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", url: "https://www.cfa.go.jp/news" },
          tags: [
            { label: "Ë¶≥ÂØüÊîØÊè¥", style: "background: linear-gradient(120deg, #fde68a, #fcd34d);" },
            { label: "‰øùËÇ≤", style: "background: linear-gradient(120deg, #fecdd3, #fbcfe8);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(244, 114, 182, 0.5), transparent 40%), radial-gradient(circle at 85% 10%, rgba(234, 179, 8, 0.45), transparent 35%), linear-gradient(140deg, rgba(24, 24, 27, 0.92), rgba(30, 41, 59, 0.94))",
          link: "https://example.com/news8",
          keywords: ["ÂúíÂÖê„ÅÆÊ∞óÂàÜ", "Ê¥ªÂãïÊèêÊ°à", "Ë¶≥ÂØüÊîØÊè¥"]
        },
        {
          title: "‰øùË≠∑ËÄÖÂêë„Åë„Åä„Åü„Çà„Çä„ÇíÂ§öË®ÄË™ûÂêåÊôÇÈÖç‰ø°„ÄÅÁøªË®≥„ÉÅ„Çß„ÉÉ„ÇØ„ÇÇAI„Åß",
          desc: "Êó•„ÄÖ„ÅÆÈÄ£Áµ°Â∏≥Êñá„Çí10Ë®ÄË™û„Å´Ëá™ÂãïÁøªË®≥„Åó„ÄÅË™§Ë®≥„É™„Çπ„ÇØ„ÇíAI„ÅåË≠¶Âëä„ÄÇÈÖç‰ø°„Åæ„Åß„ÅÆÊôÇÈñì„ÅåÂπ≥Âùá40%Áü≠Á∏Æ„Åï„Çå„Åü„Å®„ÅÆÂ†±Âëä„ÄÇ",
          category: "administration",
          source: { label: "ÊñáÈÉ®ÁßëÂ≠¶ÁúÅ", url: "https://www.mext.go.jp/b_menu/b002.htm" },
          tags: [
            { label: "Â§öË®ÄË™û", style: "background: linear-gradient(120deg, #c7d2fe, #a5b4fc);" },
            { label: "„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥", style: "background: linear-gradient(120deg, #bae6fd, #e0f2fe);" }
          ],
          background: "radial-gradient(circle at 20% 26%, rgba(59, 130, 246, 0.5), transparent 40%), radial-gradient(circle at 85% 15%, rgba(168, 85, 247, 0.45), transparent 35%), linear-gradient(140deg, rgba(9, 9, 11, 0.92), rgba(15, 23, 42, 0.94))",
          link: "https://example.com/news9",
          keywords: ["Â§öË®ÄË™ûÈÖç‰ø°", "ÁøªË®≥„ÉÅ„Çß„ÉÉ„ÇØ", "ÈÄ£Áµ°Â∏≥"]
        },
        {
          title: "ÈÄ£Áµ°Â∏≥„ÉÜ„É≥„Éó„É¨„ÅÆ„ÄåÊÑüË¨ù„ÉØ„Éº„Éâ„ÄçËá™ÂãïÁîüÊàê„Åå‰∫∫Ê∞ó„Å´",
          desc: "ÂÖàÁîü„ÅÆ„É°„É¢„Åã„ÇâÊ∏©„Åã„ÅÑ‰∏ÄÊñá„ÇíAI„ÅåÊèêÊ°à„ÄÇ„Äå‰ªäÊó•„ÇÇ„ÅÇ„Çä„Åå„Å®„ÅÜ„Äç„Å™„Å©„ÅÆ‰∏ÅÂØß„Å™Ë°®Áèæ„ÅåËá™Âãï„ÅßÂ∑Æ„ÅóËæº„Åæ„Çå„ÄÅ‰øùË≠∑ËÄÖ„ÅÆÊ∫ÄË∂≥Â∫¶„ÅåÂêë‰∏ä„ÄÇ",
          category: "administration",
          source: { label: "ÂéöÁîüÂä¥ÂÉçÁúÅ", url: "https://www.mhlw.go.jp/stf/new-info/" },
          tags: [
            { label: "ÊñáÁ´†ÁîüÊàê", style: "background: linear-gradient(120deg, #fbcfe8, #fda4af);" },
            { label: "‰øùË≠∑ËÄÖÂØæÂøú", style: "background: linear-gradient(120deg, #fef08a, #fde047);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(244, 114, 182, 0.5), transparent 40%), radial-gradient(circle at 70% 12%, rgba(251, 191, 36, 0.42), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(30, 27, 75, 0.94))",
          link: "https://example.com/news10",
          keywords: ["ÊÑüË¨ù„ÉØ„Éº„Éâ", "ÊñáÁ´†ÁîüÊàê", "‰øùË≠∑ËÄÖÂØæÂøú"]
        },
        {
          title: "ÂÖêÁ´•Á¶èÁ•âÊ≥ï ÊîπÊ≠£ÂãïÂêë„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Éù„Ç§„É≥„Éà",
          desc: "ÂÖêÁ´•Á¶èÁ•âÊ≥ï„ÅÆÊúÄÊñ∞ÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÈÅãÁî®„Éï„É≠„Éº„ÇÑ‰øùË≠∑ËÄÖÊ°àÂÜÖ„ÅÆË¶ãÁõ¥„Åó„ÇíÊ∫ñÂÇô„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÂÖêÁ´•Á¶èÁ•âÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["ÂÖêÁ´•Á¶èÁ•âÊ≥ï", "Ê≥ï‰ª§ÊîπÊ≠£", "ÈÅãÁî®Ê∫ñÂÇô"]
        },
        {
          title: "Â≠ê„Å©„ÇÇÂ≠êËÇ≤„Å¶ÊîØÊè¥Ê≥ï ÊîπÊ≠£ÊÉÖÂ†±„ÅÆË¶ÅÁÇπ",
          desc: "ÊîØÊè¥Âà∂Â∫¶„ÅÆÊîπÊ≠£ÁÇπ„ÇíÊï¥ÁêÜ„Åó„ÄÅË£úÂä©Áî≥Ë´ã„ÇÑ‰øùË≠∑ËÄÖÂØæÂøú„ÅÆÂ§âÊõ¥ÁÇπ„Çí‰∫ãÂâçÂÖ±Êúâ„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â≠ê„Å©„ÇÇÂ≠êËÇ≤„Å¶ÊîØÊè¥Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(56, 189, 248, 0.45), transparent 40%), radial-gradient(circle at 80% 15%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(9, 9, 11, 0.92), rgba(30, 27, 75, 0.94))",
          keywords: ["Â≠ê„Å©„ÇÇÂ≠êËÇ≤„Å¶ÊîØÊè¥Ê≥ï", "Âà∂Â∫¶ÊîπÊ≠£", "‰øùË≠∑ËÄÖÂØæÂøú"]
        },
        {
          title: "Â≠¶Ê†°ÊïôËÇ≤Ê≥ï ÊîπÊ≠£ÊÉÖÂ†±„ÅÆÊï¥ÁêÜ",
          desc: "Â≠¶Ê†°ÊïôËÇ≤Ê≥ï„ÅÆÊîπÊ≠£„Éù„Ç§„É≥„Éà„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúí„ÅÆÈÄ£Êê∫ÂÖà„ÇÑÊñáÊõ∏„ÅÆÊõ¥Êñ∞Ë®àÁîª„ÇíÊï¥ÁêÜ„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â≠¶Ê†°ÊïôËÇ≤Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(99, 102, 241, 0.45), transparent 40%), radial-gradient(circle at 75% 10%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["Â≠¶Ê†°ÊïôËÇ≤Ê≥ï", "Ê≥ï‰ª§ÊîπÊ≠£", "ÈÄ£Êê∫ÂÖà"]
        },
        {
          title: "ÊïôËÇ≤Âü∫Êú¨Ê≥ï ÊîπÊ≠£ÂãïÂêë„ÅÆÁ¢∫Ë™ç",
          desc: "ÊïôËÇ≤Âü∫Êú¨Ê≥ï„ÅÆÊõ¥Êñ∞ÂÜÖÂÆπ„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„ÄÅÊïôËÇ≤ÊñπÈáù„ÇÑÂúíÂÜÖÁ†î‰øÆ„ÅÆÊï¥ÁêÜ„Å´Ê¥ªÁî®„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÊïôËÇ≤Âü∫Êú¨Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 15%, rgba(129, 140, 248, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(24, 24, 27, 0.92), rgba(30, 27, 75, 0.94))",
          keywords: ["ÊïôËÇ≤Âü∫Êú¨Ê≥ï", "ÊîπÊ≠£", "Á†î‰øÆ"]
        },
        {
          title: "Â∞±Â≠¶ÂâçÊïôËÇ≤„Éª‰øùËÇ≤Á∑èÂêàÊèê‰æõÊé®ÈÄ≤Ê≥ï„ÅÆÊîπÊ≠£Á¢∫Ë™ç",
          desc: "Â∞±Â≠¶Ââç„ÅÆÂ≠ê„Å©„ÇÇ„Å´Èñ¢„Åô„ÇãÊïôËÇ≤„Éª‰øùËÇ≤„ÅÆÁ∑èÂêàÁöÑ„Å™Êèê‰æõ„Å´Èñ¢„Åô„ÇãÊ≥ïÊîπÊ≠£„ÇíÁ¢∫Ë™ç„Åó„ÄÅÈÅãÁî®ÊîπÂñÑ„Å´ÂÇô„Åà„Çã„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â∞±Â≠¶Ââç„ÅÆÂ≠ê„Å©„ÇÇ„Å´Èñ¢„Åô„ÇãÊïôËÇ≤„ÄÅ‰øùËÇ≤Á≠â„ÅÆÁ∑èÂêàÁöÑ„Å™Êèê‰æõ„ÅÆÊé®ÈÄ≤„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(17, 24, 39, 0.94))",
          keywords: ["Â∞±Â≠¶Ââç", "Á∑èÂêàÊèê‰æõ", "Ê≥ïÊîπÊ≠£"]
        },
        {
          title: "Á§æ‰ºöÁ¶èÁ•âÊ≥ï ÊîπÊ≠£ÂãïÂêë„ÅÆÂÖ±Êúâ",
          desc: "Á§æ‰ºöÁ¶èÁ•âÊ≥ï„ÅÆÊîπÊ≠£ÁÇπ„ÇíÊï¥ÁêÜ„Åó„ÄÅÂúí„ÅÆÈÅãÂñ∂„É´„Éº„É´„ÇÑÂ±äÂá∫„Å´ÂΩ±Èüø„Åô„ÇãÈ†ÖÁõÆ„ÇíÊ¥ó„ÅÑÂá∫„Åó„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Á§æ‰ºöÁ¶èÁ•âÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 24% 18%, rgba(56, 189, 248, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(24, 24, 27, 0.94))",
          keywords: ["Á§æ‰ºöÁ¶èÁ•âÊ≥ï", "ÊîπÊ≠£", "ÈÅãÂñ∂„É´„Éº„É´"]
        },
        {
          title: "ÈöúÂÆ≥ËÄÖÂü∫Êú¨Ê≥ï ÊîπÊ≠£ÊÉÖÂ†±„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ",
          desc: "ÈöúÂÆ≥ËÄÖÂü∫Êú¨Ê≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÂêàÁêÜÁöÑÈÖçÊÖÆ„ÇÑÊîØÊè¥‰ΩìÂà∂„ÅÆÊõ¥Êñ∞„Å´ÂÇô„Åà„Çã„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÈöúÂÆ≥ËÄÖÂü∫Êú¨Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(125, 211, 252, 0.45), transparent 40%), radial-gradient(circle at 75% 10%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(15, 23, 42, 0.94))",
          keywords: ["ÈöúÂÆ≥ËÄÖÂü∫Êú¨Ê≥ï", "ÂêàÁêÜÁöÑÈÖçÊÖÆ", "ÊîØÊè¥‰ΩìÂà∂"]
        },
        {
          title: "ÊØçÂ≠êÂèä„Å≥Áà∂Â≠ê‰∏¶„Å≥„Å´ÂØ°Â©¶Á¶èÁ•âÊ≥ï„ÅÆÊîπÊ≠£Á¢∫Ë™ç",
          desc: "ÊØçÂ≠ê„ÉªÁà∂Â≠ê„ÉªÂØ°Â©¶Á¶èÁ•âÊ≥ï„ÅÆÊúÄÊñ∞ÊîπÊ≠£„ÇíÁ¢∫Ë™ç„Åó„ÄÅÊîØÊè¥Âà∂Â∫¶Ê°àÂÜÖ„ÅÆÊõ¥Êñ∞„Å´Ê¥ªÁî®„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÊØçÂ≠êÂèä„Å≥Áà∂Â≠ê‰∏¶„Å≥„Å´ÂØ°Â©¶Á¶èÁ•âÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(96, 165, 250, 0.45), transparent 40%), radial-gradient(circle at 80% 15%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(15, 23, 42, 0.94))",
          keywords: ["ÊØçÂ≠êÁ¶èÁ•â", "Áà∂Â≠êÁ¶èÁ•â", "ÂØ°Â©¶Á¶èÁ•â"]
        },
        {
          title: "ËÇ≤ÂÖê„Éª‰ªãË≠∑‰ºëÊ•≠Ê≥ï„ÅÆÊîπÊ≠£„Éù„Ç§„É≥„ÉàÊï¥ÁêÜ",
          desc: "ËÇ≤ÂÖê‰ºëÊ•≠„Éª‰ªãË≠∑‰ºëÊ•≠Á≠â„ÅÆÊ≥ïÊîπÊ≠£„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂ∞±Ê•≠Ë¶èÂâá„ÇÑËÅ∑Âì°Âêë„ÅëÊ°àÂÜÖ„ÅÆÊõ¥Êñ∞Ê∫ñÂÇô„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ËÇ≤ÂÖê‰ºëÊ•≠„ÄÅ‰ªãË≠∑‰ºëÊ•≠Á≠âËÇ≤ÂÖêÂèà„ÅØÂÆ∂Êóè‰ªãË≠∑„ÇíË°å„ÅÜÂä¥ÂÉçËÄÖ„ÅÆÁ¶èÁ•â„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(37, 99, 235, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["ËÇ≤ÂÖê‰ºëÊ•≠", "‰ªãË≠∑‰ºëÊ•≠", "Â∞±Ê•≠Ë¶èÂâá"]
        },
        {
          title: "ÂÖêÁ´•ÊâãÂΩìÊ≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç",
          desc: "ÂÖêÁ´•ÊâãÂΩìÊ≥ï„ÅÆÊúÄÊñ∞ÊîπÊ≠£ÂÜÖÂÆπ„ÇíÊääÊè°„Åó„ÄÅ‰øùË≠∑ËÄÖÂêë„ÅëÊ°àÂÜÖ„Çí„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÂÖêÁ´•ÊâãÂΩìÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 24% 18%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(15, 23, 42, 0.94))",
          keywords: ["ÂÖêÁ´•ÊâãÂΩì", "Áµ¶‰ªò", "‰øùË≠∑ËÄÖÊ°àÂÜÖ"]
        },
        {
          title: "ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÊ≥ï„ÅÆÊîπÊ≠£„Éù„Ç§„É≥„Éà",
          desc: "ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÊ≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÊï¥ÁêÜ„Åó„ÄÅÁõ∏Ë´áÂØæÂøú„ÇÑÊ°àÂÜÖË≥áÊñô„ÅÆÊõ¥Êñ∞„Å´ÂÇô„Åà„Çã„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(125, 211, 252, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(17, 24, 39, 0.94))",
          keywords: ["ÂÖêÁ´•Êâ∂È§äÊâãÂΩì", "ÊîπÊ≠£", "Áõ∏Ë´áÂØæÂøú"]
        },
        {
          title: "ÁâπÂà•ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÁ≠â„ÅÆÊîπÊ≠£ÊÉÖÂ†±",
          desc: "ÁâπÂà•ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÁ≠â„ÅÆÊîØÁµ¶„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã„ÅÆÊîπÊ≠£ÁÇπ„ÇíÁ¢∫Ë™ç„Åó„ÄÅÊ°àÂÜÖÊñáÊõ∏„ÅÆÊõ¥Êñ∞„Å´ÂèçÊò†„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÁâπÂà•ÂÖêÁ´•Êâ∂È§äÊâãÂΩìÁ≠â„ÅÆÊîØÁµ¶„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(56, 189, 248, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(24, 24, 27, 0.94))",
          keywords: ["ÁâπÂà•ÂÖêÁ´•Êâ∂È§äÊâãÂΩì", "ÊîØÁµ¶", "ÊîπÊ≠£"]
        },
        {
          title: "Â≠ê„Å©„ÇÇ„ÅÆË≤ßÂõ∞ÂØæÁ≠ñÊé®ÈÄ≤Ê≥ï ÊîπÊ≠£ÊÉÖÂ†±",
          desc: "Â≠ê„Å©„ÇÇ„ÅÆË≤ßÂõ∞ÂØæÁ≠ñ„ÅÆÊé®ÈÄ≤„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã„ÅÆÊîπÊ≠£ÁÇπ„ÇíÊï¥ÁêÜ„Åó„ÄÅÊîØÊè¥Á≠ñ„ÅÆÊ°àÂÜÖ„ÇíÊõ¥Êñ∞„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â≠ê„Å©„ÇÇ„ÅÆË≤ßÂõ∞ÂØæÁ≠ñ„ÅÆÊé®ÈÄ≤„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(37, 99, 235, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["Â≠ê„Å©„ÇÇ„ÅÆË≤ßÂõ∞", "ÊîØÊè¥Á≠ñ", "ÊîπÊ≠£"]
        },
        {
          title: "Â≠¶Ê†°‰øùÂÅ•ÂÆâÂÖ®Ê≥ï„ÅÆÊîπÊ≠£„Éù„Ç§„É≥„Éà",
          desc: "Â≠¶Ê†°‰øùÂÅ•ÂÆâÂÖ®Ê≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÂÆâÂÖ®„ÉªÂÅ•Â∫∑ÁÆ°ÁêÜ„ÅÆÈÅãÁî®„Å´ÂèçÊò†„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â≠¶Ê†°‰øùÂÅ•ÂÆâÂÖ®Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(15, 23, 42, 0.94))",
          keywords: ["Â≠¶Ê†°‰øùÂÅ•ÂÆâÂÖ®Ê≥ï", "ÂÆâÂÖ®ÁÆ°ÁêÜ", "ÊîπÊ≠£"]
        },
        {
          title: "ÊØçÂ≠ê‰øùÂÅ•Ê≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±",
          desc: "ÊØçÂ≠ê‰øùÂÅ•Ê≥ï„ÅÆÊîπÊ≠£ÁÇπ„ÇíÊï¥ÁêÜ„Åó„ÄÅ‰øùÂÅ•ÊåáÂ∞é„ÇÑÂë®Áü•Ë≥áÊñô„ÅÆÊõ¥Êñ∞Ê∫ñÂÇô„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÊØçÂ≠ê‰øùÂÅ•Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(125, 211, 252, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(15, 23, 42, 0.94))",
          keywords: ["ÊØçÂ≠ê‰øùÂÅ•Ê≥ï", "‰øùÂÅ•ÊåáÂ∞é", "ÊîπÊ≠£"]
        },
        {
          title: "‰∫àÈò≤Êé•Á®ÆÊ≥ï„ÅÆÊîπÊ≠£ÂãïÂêë",
          desc: "‰∫àÈò≤Êé•Á®ÆÊ≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÊé•Á®ÆÊ°àÂÜÖ„ÇÑË®òÈå≤ÈÅãÁî®„ÇíÊõ¥Êñ∞„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=‰∫àÈò≤Êé•Á®ÆÊ≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 28%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(24, 24, 27, 0.94))",
          keywords: ["‰∫àÈò≤Êé•Á®ÆÊ≥ï", "Êé•Á®ÆÊ°àÂÜÖ", "ÊîπÊ≠£"]
        },
        {
          title: "ÂÖêÁ´•ËôêÂæÖÈò≤Ê≠¢Ê≥ï„ÅÆÊîπÊ≠£Á¢∫Ë™ç",
          desc: "ÂÖêÁ´•ËôêÂæÖ„ÅÆÈò≤Ê≠¢Á≠â„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã„ÅÆÊîπÊ≠£ÁÇπ„ÇíÁ¢∫Ë™ç„Åó„ÄÅÈÄöÂ†±„ÉªÈÄ£Êê∫„Éï„É≠„Éº„ÇíË¶ãÁõ¥„Åó„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÂÖêÁ´•ËôêÂæÖ„ÅÆÈò≤Ê≠¢Á≠â„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["ÂÖêÁ´•ËôêÂæÖÈò≤Ê≠¢", "ÈÄ£Êê∫„Éï„É≠„Éº", "ÊîπÊ≠£"]
        },
        {
          title: "ÂÖêÁ´•Ë≤∑Êò•„ÉªÂÖêÁ´•„Éù„É´„ÉéÈñ¢ÈÄ£Ê≥ï„ÅÆÊîπÊ≠£ÂãïÂêë",
          desc: "ÂÖêÁ´•Ë≤∑Êò•„ÉªÂÖêÁ´•„Éù„É´„ÉéË¶èÂà∂Á≠â„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂïìÁô∫Ë≥áÊñô„ÅÆÊõ¥Êñ∞„Å´ÂÇô„Åà„Çã„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=ÂÖêÁ´•Ë≤∑Êò•„ÄÅÂÖêÁ´•„Éù„É´„Éé„Å´‰øÇ„ÇãË°åÁÇ∫Á≠â„ÅÆË¶èÂà∂Âèä„Å≥Âá¶ÁΩ∞‰∏¶„Å≥„Å´ÂÖêÁ´•„ÅÆ‰øùË≠∑Á≠â„Å´Èñ¢„Åô„ÇãÊ≥ïÂæã&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(37, 99, 235, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(24, 24, 27, 0.94))",
          keywords: ["ÂÖêÁ´•Ë≤∑Êò•", "ÂÖêÁ´•„Éù„É´„Éé", "Ë¶èÂà∂"]
        },
        {
          title: "È£üËÇ≤Âü∫Êú¨Ê≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±",
          desc: "È£üËÇ≤Âü∫Êú¨Ê≥ï„ÅÆÊîπÊ≠£ÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÈ£üËÇ≤Ë®àÁîª„ÇÑÁô∫‰ø°ÂÜÖÂÆπ„ÇíÊõ¥Êñ∞„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=È£üËÇ≤Âü∫Êú¨Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 18% 30%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(12, 10, 26, 0.92), rgba(17, 24, 39, 0.94))",
          keywords: ["È£üËÇ≤Âü∫Êú¨Ê≥ï", "È£üËÇ≤Ë®àÁîª", "ÊîπÊ≠£"]
        },
        {
          title: "Â∞ëÂ≠êÂåñÁ§æ‰ºöÂØæÁ≠ñÂü∫Êú¨Ê≥ï„ÅÆÊîπÊ≠£Á¢∫Ë™ç",
          desc: "Â∞ëÂ≠êÂåñÁ§æ‰ºöÂØæÁ≠ñÂü∫Êú¨Ê≥ï„ÅÆÊîπÊ≠£ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúí„ÅÆÊîØÊè¥Á≠ñ„ÇÑÂÖ±ÊúâÂÜÖÂÆπ„Å´ÂèçÊò†„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Â∞ëÂ≠êÂåñÁ§æ‰ºöÂØæÁ≠ñÂü∫Êú¨Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 22% 22%, rgba(56, 189, 248, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(17, 24, 39, 0.92), rgba(30, 41, 59, 0.94))",
          keywords: ["Â∞ëÂ≠êÂåñÂØæÁ≠ñ", "ÊîπÊ≠£", "ÊîØÊè¥Á≠ñ"]
        },
        {
          title: "Ê¨°‰∏ñ‰ª£ËÇ≤ÊàêÊîØÊè¥ÂØæÁ≠ñÊé®ÈÄ≤Ê≥ï„ÅÆÊîπÊ≠£ÂãïÂêë",
          desc: "Ê¨°‰∏ñ‰ª£ËÇ≤ÊàêÊîØÊè¥ÂØæÁ≠ñÊé®ÈÄ≤Ê≥ï„ÅÆÊúÄÊñ∞ÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÂúíÂÜÖ„ÅÆÊîØÊè¥ÊñΩÁ≠ñ„ÇÑÁ†î‰øÆË®àÁîª„ÇíË™øÊï¥„ÄÇ",
          category: "legal",
          source: { label: "SNÊ≥ï‰ª§Ê§úÁ¥¢", url: "https://www.sn-hoki.co.jp/article_list/pickup_hourei_top/?page_num=1&state=Êõ¥Êñ∞Êó•&keyword=Ê¨°‰∏ñ‰ª£ËÇ≤ÊàêÊîØÊè¥ÂØæÁ≠ñÊé®ÈÄ≤Ê≥ï&searchtype=and" },
          tags: [
            { label: "Ê≥ï‰ª§" },
            { label: "ÊñΩË°åË¶èÂâá", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" },
            { label: "ÁúÅ‰ª§Âêç", style: "background: linear-gradient(120deg, #fef3c7, #fde68a);" }
          ],
          background: "radial-gradient(circle at 20% 20%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(59, 130, 246, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(24, 24, 27, 0.94))",
          keywords: ["Ê¨°‰∏ñ‰ª£ËÇ≤Êàê", "ÊîØÊè¥ÂØæÁ≠ñ", "ÊîπÊ≠£"]
        }
      ];

      const NEWS_ARCHIVES = {
        latest: NEWS_ITEMS,
        "2025-02-20": [
          {
            title: "Âà∂Â∫¶ÊîπÊ≠£„ÅÆÊï¥ÁêÜ„ÅåÊÄ•Âãô„ÄÅÂúíÂÜÖÂë®Áü•„ÅÆ„ÉÜ„É≥„Éó„É¨Êï¥ÂÇô„Å∏",
            desc: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å„ÅÆÊñ∞ÈÄöÁü•„Å´Âêà„Çè„Åõ„ÄÅÂúíÂÜÖÊé≤Á§∫„Å®‰øùË≠∑ËÄÖÈÖçÂ∏ÉÂêë„Åë„ÅÆ„ÉÜ„É≥„Éó„É¨„ÇíÊõ¥Êñ∞„ÄÇFAQ„ÅÆÂ∑Æ„ÅóÊõø„Åà„ÇÇÈÄ≤Ë°å‰∏≠„ÄÇ",
            category: "administration",
            source: { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", url: "https://www.cfa.go.jp/news" },
            tags: [
              { label: "Âà∂Â∫¶ÂãïÂêë", style: "background: linear-gradient(120deg, #fef9c3, #fde68a);" }
            ],
            background: "radial-gradient(circle at 20% 20%, rgba(251, 191, 36, 0.45), transparent 40%), radial-gradient(circle at 80% 0%, rgba(236, 72, 153, 0.4), transparent 35%), linear-gradient(145deg, rgba(17, 24, 39, 0.9), rgba(30, 27, 75, 0.92))",
            keywords: ["„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", "Âà∂Â∫¶ÊîπÊ≠£", "ÂúíÂÜÖÂë®Áü•"]
          },
          {
            title: "Ë£úÂä©Èáë„ÅÆÂØæË±°Êã°Â§ß„ÅßÁî≥Ë´ã„Éï„É≠„Éº„ÇíÁ∞°Á¥†Âåñ",
            desc: "ÂéöÁîüÂä¥ÂÉçÁúÅ„ÅÆË£úÂä©Ë¶Å‰ª∂Ë¶ãÁõ¥„Åó„Å´Âêà„Çè„Åõ„ÄÅÁî≥Ë´ã„Éï„Ç©„Éº„É†„ÅÆÈ†ÖÁõÆ„ÇíÂçäÊ∏õ„ÄÇÊãÖÂΩìËÄÖ„ÅÆÂ∑•Êï∞„ÅåÈÄ±2ÊôÇÈñìÂâäÊ∏õ„ÄÇ",
            category: "administration",
            source: { label: "ÂéöÁîüÂä¥ÂÉçÁúÅ", url: "https://www.mhlw.go.jp/stf/houdou/" },
            tags: [
              { label: "Âä©Êàê„ÉªË£úÂä©", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" }
            ],
            background: "radial-gradient(circle at 25% 15%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 80% 10%, rgba(14, 165, 233, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(17, 24, 39, 0.94))",
            keywords: ["ÂéöÂä¥ÁúÅ", "Ë£úÂä©Èáë", "Áî≥Ë´ãÁ∞°Á¥†Âåñ"]
          },
          {
            title: "‰∫¨ÈÉΩÂ∫ú„ÅÆÂ≠êËÇ≤„Å¶ÊîØÊè¥„Éã„É•„Éº„Çπ„ÄÅÂúíÂÜÖÊé≤Á§∫„Å´ÂèçÊò†",
            desc: "Âú∞Âüü„ÅÆÂ≠êËÇ≤„Å¶ÊîØÊè¥„Ç§„Éô„É≥„ÉàÊÉÖÂ†±„Çí„Åæ„Å®„ÇÅ„ÄÅÁéÑÈñ¢„Éú„Éº„Éâ„Å®LINEÈÖç‰ø°„Å´ËøΩÂä†„ÄÇÂèÇÂä†Áéá„ÅÆÂ∫ï‰∏ä„Åí„ÅåÊúüÂæÖ„ÄÇ",
            category: "local",
            source: { label: "‰∫¨ÈÉΩÂ∫ú", url: "https://www.pref.kyoto.jp/shinchaku/index.html" },
            tags: [
              { label: "Âú∞Âüü„Éã„É•„Éº„Çπ", style: "background: linear-gradient(120deg, #fce7f3, #fbcfe8);" }
            ],
            background: "radial-gradient(circle at 18% 30%, rgba(244, 114, 182, 0.5), transparent 40%), radial-gradient(circle at 85% 10%, rgba(236, 72, 153, 0.4), transparent 35%), linear-gradient(145deg, rgba(30, 27, 75, 0.92), rgba(15, 23, 42, 0.94))",
            keywords: ["‰∫¨ÈÉΩÂ∫ú", "Â≠êËÇ≤„Å¶ÊîØÊè¥", "Âú∞Âüü„Ç§„Éô„É≥„Éà"]
          }
        ],
        "2025-02-19": [
          {
            title: "ÊñáÁßëÁúÅ„ÅÆÊïôËÇ≤Èñ¢ÈÄ£„Éã„É•„Éº„Çπ„ÄÅÂúíÂÜÖÁ†î‰øÆ„ÅßÂÖ±Êúâ",
            desc: "ÊïôËÇ≤DX„ÅÆÊúÄÊñ∞ÂãïÂêë„ÇíÂÖ±Êúâ„Åó„ÄÅÂúíÂÜÖICTË®àÁîª„ÅÆË¶ãÁõ¥„Åó„ÇíÊ§úË®é„ÄÇÊ¨°Âõû‰ºöË≠∞„ÅßÂÖ∑‰ΩìÊ°à„ÇíÊèêÂá∫‰∫àÂÆö„ÄÇ",
            category: "administration",
            source: { label: "ÊñáÈÉ®ÁßëÂ≠¶ÁúÅ", url: "https://www.mext.go.jp/b_menu/b002.htm" },
            tags: [
              { label: "ÊñáÁßëÁúÅ", style: "background: linear-gradient(120deg, #dbeafe, #bfdbfe);" }
            ],
            background: "radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.45), transparent 40%), radial-gradient(circle at 80% 10%, rgba(99, 102, 241, 0.4), transparent 35%), linear-gradient(140deg, rgba(9, 9, 11, 0.92), rgba(15, 23, 42, 0.94))",
            keywords: ["ÊñáÁßëÁúÅ", "ÊïôËÇ≤DX", "Á†î‰øÆ"]
          },
          {
            title: "‰∫àÁÆóÊ¶ÇË¶Å„ÅÆË¶ÅÁÇπ„ÇíÊï¥ÁêÜ„ÄÅÂúíÂÜÖÈÖçÂàÜ„ÅÆÁ¢∫Ë™ç„ÇíÈñãÂßã",
            desc: "Êñ∞Âπ¥Â∫¶‰∫àÁÆó„ÅÆÈáçÁÇπÈ†ÖÁõÆ„ÇíÊï¥ÁêÜ„Åó„ÄÅË®≠ÂÇôÊäïË≥á„Å®‰∫∫Âì°ÈÖçÁΩÆ„ÅÆË¶ãÁõ¥„Åó„Å´ÁùÄÊâã„ÄÇÈñ¢‰øÇËÄÖ„Å∏„ÅÆË™¨ÊòéË≥áÊñô„Çí‰ΩúÊàê‰∏≠„ÄÇ",
            category: "government",
            source: { label: "ÂÜÖÈñ£Â∫ú", url: "https://www.cao.go.jp/press/houdou.html" },
            tags: [
              { label: "‰∫àÁÆóÊ¶ÇË¶Å", style: "background: linear-gradient(120deg, #fef9c3, #fcd34d);" }
            ],
            background: "radial-gradient(circle at 18% 30%, rgba(250, 204, 21, 0.5), transparent 40%), radial-gradient(circle at 75% 10%, rgba(251, 191, 36, 0.4), transparent 35%), linear-gradient(140deg, rgba(24, 24, 27, 0.92), rgba(30, 41, 59, 0.94))",
            keywords: ["‰∫àÁÆó", "ÈáçÁÇπÈ†ÖÁõÆ", "ÈÖçÂàÜ"]
          },
          {
            title: "Êñ∞ÁùÄ„Éã„É•„Éº„ÇπË¶ÅÁ¥Ñ„Åß‰øùË≠∑ËÄÖ„Å∏„ÅÆÊ°àÂÜÖÊñá„ÇíÊõ¥Êñ∞",
            desc: "‰ªäÈÄ±„ÅÆ‰∏ªË¶Å„Éã„É•„Éº„Çπ„ÇíÊäúÁ≤ã„Åó„ÄÅ‰øùË≠∑ËÄÖÂêë„Åë„ÅäÁü•„Çâ„Åõ„ÅÆÂÜíÈ†≠Êñá„ÇíÂà∑Êñ∞„ÄÇÁü≠ÊôÇÈñì„ÅßË¶ÅÁÇπ„Åå‰ºù„Çè„ÇãÊßãÊàê„Å´Ë™øÊï¥„ÄÇ",
            category: "administration",
            source: { label: "ÂéöÁîüÂä¥ÂÉçÁúÅ", url: "https://www.mhlw.go.jp/stf/new-info/" },
            tags: [
              { label: "Êñ∞ÁùÄ„Éã„É•„Éº„Çπ", style: "background: linear-gradient(120deg, #fee2e2, #fecaca);" }
            ],
            background: "radial-gradient(circle at 22% 22%, rgba(248, 113, 113, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(244, 63, 94, 0.4), transparent 35%), linear-gradient(140deg, rgba(30, 27, 75, 0.92), rgba(17, 24, 39, 0.94))",
            keywords: ["„Éã„É•„Éº„ÇπË¶ÅÁ¥Ñ", "‰øùË≠∑ËÄÖÊ°àÂÜÖ", "ÂÖ±ÊúâÊñá"]
          }
        ],
        "2025-02-18": [
          {
          title: "Ê≥ï‰ª§ÊîπÊ≠£„ÅÆ‰∏ªË¶Å„Éù„Ç§„É≥„Éà„Çí‰∏ÄÊûö„Å´Êï¥ÁêÜ",
          desc: "‰øùËÇ≤Èñ¢ÈÄ£„ÅÆÊ≥ï‰ª§ÊîπÊ≠£„ÇíË¶ÅÁÇπÂåñ„Åó„ÄÅÁèæÂ†¥„Åß„ÅÆÂØæÂøú„Éï„É≠„Éº„Çí1Êûö„ÅßÂÖ±Êúâ„ÄÇËÅ∑Âì°Âêë„Åë„ÅÆÁ¢∫Ë™ç‰ºö„ÇíÂÆüÊñΩ„ÄÇ",
          category: "administration",
          source: { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", url: "https://www.cfa.go.jp/policies" },
            tags: [
              { label: "Ê≥ï‰ª§ÊîπÊ≠£", style: "background: linear-gradient(120deg, #e0f2fe, #bae6fd);" }
            ],
            background: "radial-gradient(circle at 25% 15%, rgba(14, 165, 233, 0.45), transparent 40%), radial-gradient(circle at 80% 10%, rgba(56, 189, 248, 0.4), transparent 35%), linear-gradient(140deg, rgba(15, 23, 42, 0.92), rgba(30, 41, 59, 0.94))",
            keywords: ["Ê≥ï‰ª§ÊîπÊ≠£", "ÂØæÂøú„Éï„É≠„Éº", "ÂÖ±Êúâ"]
          },
          {
          title: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å„ÅÆÊñ∞ÁùÄÈÄöÁü•„ÇíFAQ„Å´ÂèçÊò†",
          desc: "‰øùË≠∑ËÄÖ„Åã„ÇâÂ§ö„ÅÑË≥™Âïè„Å´ÂØæ„Åó„Å¶„ÄÅÊñ∞ÈÄöÁü•ÂÜÖÂÆπ„ÇíÂèçÊò†„Åó„ÅüÂõûÁ≠î„ÇíËøΩÂä†„ÄÇÂèó‰ªòÂØæÂøú„ÅÆÊ®ôÊ∫ñÂåñ„ÇíÈÄ≤Ë°å‰∏≠„ÄÇ",
          category: "administration",
          source: { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", url: "https://www.cfa.go.jp/policies" },
            tags: [
              { label: "„Åì„Å©„ÇÇÂÆ∂Â∫≠Â∫Å", style: "background: linear-gradient(120deg, #d9f99d, #bef264);" }
            ],
            background: "radial-gradient(circle at 20% 25%, rgba(163, 230, 53, 0.45), transparent 40%), radial-gradient(circle at 80% 12%, rgba(132, 204, 22, 0.4), transparent 35%), linear-gradient(140deg, rgba(24, 24, 27, 0.92), rgba(15, 23, 42, 0.94))",
            keywords: ["FAQ", "ÈÄöÁü•ÂèçÊò†", "‰øùË≠∑ËÄÖÂØæÂøú"]
          },
          {
            title: "‰∫¨ÈÉΩÂ∫ú„ÅÆÂ≠ê„Å©„ÇÇÈñ¢ÈÄ£„Éã„É•„Éº„Çπ„ÇíÈÄ±Â†±„Å´ËøΩÂä†",
            desc: "Âú∞Âüü„ÅÆÂ≠êËÇ≤„Å¶ÊñΩÁ≠ñ„ÇÑ„Ç§„Éô„É≥„ÉàÊÉÖÂ†±„ÇíÈÄ±Â†±„Å´Êé≤Ëºâ„Åó„ÄÅËÅ∑Âì°Èñì„ÅÆÂÖ±Êúâ„ÇíÂº∑Âåñ„ÄÇÂúíÂÜÖ„Éù„Éº„Çø„É´„Å´„ÇÇÊé≤Ëºâ„ÄÇ",
            category: "local",
            source: { label: "‰∫¨ÈÉΩÂ∫ú", url: "https://www.pref.kyoto.jp/shinchaku/index.html" },
            tags: [
              { label: "Âú∞Âüü„Éã„É•„Éº„Çπ", style: "background: linear-gradient(120deg, #fce7f3, #fbcfe8);" }
            ],
            background: "radial-gradient(circle at 18% 30%, rgba(236, 72, 153, 0.45), transparent 40%), radial-gradient(circle at 85% 10%, rgba(244, 114, 182, 0.4), transparent 35%), linear-gradient(140deg, rgba(30, 27, 75, 0.92), rgba(15, 23, 42, 0.94))",
            keywords: ["‰∫¨ÈÉΩÂ∫ú", "ÈÄ±Â†±", "Âú∞ÂüüÊÉÖÂ†±"]
          }
        ]
      };

      const renderTags = (tags = []) => tags.map(tag => `<span class="tag"${tag.style ? ` style="${tag.style}"` : ""}>${tag.label}</span>`).join("");

      const createNewsCard = (item, variant = "grid") => {
        const cardClass = variant === "slider" ? "news-slide-card" : "news-card";
        const favorite = variant === "grid"
          ? `<button class="favorite-btn" type="button" aria-label="„ÅäÊ∞ó„Å´ÂÖ•„Çä„Å´ËøΩÂä†">‚≠êÔ∏è</button>`
          : "";
        const keywordTags = (item.keywords || []).map((keyword) => {
          const query = encodeURIComponent(keyword);
          return `<a class="keyword-tag" href="https://www.google.com/search?q=${query}" target="_blank" rel="noopener">${keyword}</a>`;
        }).join("");
        return `
          <div class="${cardClass}">
            ${favorite}
            <div class="news-image" style="background: ${item.background};"></div>
            <div class="news-meta">${renderTags(item.tags)}</div>
            <p class="news-title-text">${item.title}</p>
            <p class="news-desc">${item.desc}</p>
            ${item.source ? `<p class="news-source">Âá∫ÂÖ∏: <a href="${item.source.url}" target="_blank" rel="noopener">${item.source.label}</a></p>` : ""}
            <div class="news-keywords" aria-label="„Ç≠„Éº„ÉØ„Éº„ÉâÊ§úÁ¥¢">
              ${keywordTags}
            </div>
            <div class="news-card-footer">
              <button class="news-detail-button" type="button" data-news-detail="${item.id}">Ë®ò‰∫ã„ÇíÈñã„Åè</button>
            </div>
          </div>
        `;
      };

      const grid = document.getElementById("newsGrid");
      let currentItems = [];
      const renderNewsGrid = (items = NEWS_ITEMS) => {
        currentItems = items.map((item, index) => ({
          ...item,
          id: item.id || `news-${index}`
        }));
        if (grid) grid.innerHTML = currentItems.map(item => createNewsCard(item, "grid")).join("");
      };
      renderNewsGrid(NEWS_ITEMS);

      const dateButtons = document.querySelectorAll("[data-news-date]");
      const categoryButtons = document.querySelectorAll("[data-news-category]");
      let activeDate = "latest";
      let activeCategory = "all";

      const applyNewsFilters = () => {
        const items = NEWS_ARCHIVES[activeDate] || NEWS_ITEMS;
        const filtered = activeCategory === "all"
          ? items
          : items.filter((item) => item.category === activeCategory);
        renderNewsGrid(filtered);
      };

      const setActiveDate = (dateKey) => {
        activeDate = dateKey;
        dateButtons.forEach((button) => {
          const isActive = button.dataset.newsDate === dateKey;
          button.classList.toggle("is-active", isActive);
          button.setAttribute("aria-selected", isActive ? "true" : "false");
        });
        applyNewsFilters();
      };

      const setActiveCategory = (categoryKey) => {
        activeCategory = categoryKey;
        categoryButtons.forEach((button) => {
          const isActive = button.dataset.newsCategory === categoryKey;
          button.classList.toggle("is-active", isActive);
          button.setAttribute("aria-selected", isActive ? "true" : "false");
        });
        applyNewsFilters();
      };

      dateButtons.forEach((button) => {
        button.addEventListener("click", () => {
          setActiveDate(button.dataset.newsDate);
        });
      });

      categoryButtons.forEach((button) => {
        button.addEventListener("click", () => {
          setActiveCategory(button.dataset.newsCategory);
        });
      });

      const modal = document.getElementById("newsModal");
      const modalTitle = document.getElementById("newsModalTitle");
      const modalDesc = document.getElementById("newsModalDesc");
      const modalSource = document.getElementById("newsModalSource");
      const modalTags = document.getElementById("newsModalTags");
      const modalKeywords = document.getElementById("newsModalKeywords");
      const modalClose = document.getElementById("newsModalClose");

      const openModal = (item) => {
        if (!modal || !item) return;
        if (modalTitle) modalTitle.textContent = item.title;
        if (modalDesc) modalDesc.textContent = item.detail || item.desc;
        if (modalTags) modalTags.innerHTML = renderTags(item.tags);
        if (modalKeywords) {
          modalKeywords.innerHTML = (item.keywords || []).map((keyword) => {
            const query = encodeURIComponent(keyword);
            return `<a class="keyword-tag" href="https://www.google.com/search?q=${query}" target="_blank" rel="noopener">${keyword}</a>`;
          }).join("");
        }
        if (modalSource) {
          modalSource.innerHTML = item.source
            ? `Âá∫ÂÖ∏: <a href="${item.source.url}" target="_blank" rel="noopener">${item.source.label}</a>`
            : "";
        }
        modal.classList.add("is-open");
        modal.setAttribute("aria-hidden", "false");
      };

      const closeModal = () => {
        if (!modal) return;
        modal.classList.remove("is-open");
        modal.setAttribute("aria-hidden", "true");
      };

      if (modalClose) {
        modalClose.addEventListener("click", closeModal);
      }

      if (modal) {
        modal.addEventListener("click", (event) => {
          if (event.target === modal) closeModal();
        });
      }

      if (grid) {
        grid.addEventListener("click", (event) => {
          const target = event.target;
          if (!(target instanceof HTMLElement)) return;
          const button = target.closest("[data-news-detail]");
          if (!button) return;
          const id = button.getAttribute("data-news-detail");
          const item = currentItems.find((entry) => entry.id === id);
          openModal(item);
        });
      }

      const yearEl = document.getElementById("currentYear");
      if (yearEl) yearEl.textContent = new Date().getFullYear();

      const updatedEl = document.getElementById("lastUpdated");
      if (updatedEl) {
        const today = new Date();
        updatedEl.textContent = `ÊúÄÁµÇÊõ¥Êñ∞: ${today.toLocaleDateString("ja-JP")}`;
      }

    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script>
    (function() {
      const modal = document.getElementById("upgradeModal");
      const closeBtn = document.getElementById("upgradeModalClose");
      const inboxBtn = document.getElementById("upgradeInboxBtn");
      const badge = document.getElementById("upgradeBadge");
      const captureImg = document.getElementById("upgradeCapture");
      const previewNote = document.querySelector(".upgrade-preview-note");
      const targetTypeEl = document.getElementById("upgradeTargetType");
      const targetTextEl = document.getElementById("upgradeTargetText");
      const messageEl = document.getElementById("upgradeMessage");
      const sendBtn = document.getElementById("upgradeSendBtn");
      const logList = document.getElementById("upgradeLogList");
      const priorityInputs = document.querySelectorAll("input[name='upgradePriority']");
      const STORAGE_KEY = "upgradeRequests";
      let currentTarget = null;
      let currentCapture = "";

      const readLogs = () => {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return [];
        try {
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [];
        } catch (error) {
          console.warn("Failed to parse upgrade logs", error);
          return [];
        }
      };

      const writeLogs = (logs) => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
      };

      const updateBadge = (count) => {
        if (!badge) return;
        if (count > 0) {
          badge.textContent = count > 99 ? "99+" : String(count);
          badge.classList.remove("is-hidden");
        } else {
          badge.classList.add("is-hidden");
        }
      };

      const getPriorityValue = () => {
        const selected = Array.from(priorityInputs).find((input) => input.checked);
        return selected?.value || "Ë¶ÅÊúõ„Éª„ÅîÊÑèË¶ã";
      };

      const setTargetInfo = (targetInfo) => {
        currentTarget = targetInfo;
        if (targetTypeEl) targetTypeEl.textContent = targetInfo?.type || "Êú™ÈÅ∏Êäû";
        if (targetTextEl) targetTextEl.textContent = targetInfo?.label || "Êú™ÈÅ∏Êäû";
        currentCapture = "";
        if (captureImg) captureImg.src = "";
        if (previewNote) previewNote.textContent = "Ë©≤ÂΩìÈÉ®ÂàÜ„ÅÆ„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„Ç§„É°„Éº„Ç∏";
      };

      const openModal = () => {
        if (!modal) return;
        modal.classList.add("is-open");
        modal.setAttribute("aria-hidden", "false");
        renderLogList();
      };

      const closeModal = () => {
        if (!modal) return;
        modal.classList.remove("is-open");
        modal.setAttribute("aria-hidden", "true");
      };

      const renderLogList = () => {
        if (!logList) return;
        const logs = readLogs();
        const filteredLogs = currentTarget?.key
          ? logs.filter((entry) => entry.key === currentTarget.key)
          : logs;
        logList.innerHTML = "";
        if (filteredLogs.length === 0) {
          const empty = document.createElement("li");
          empty.className = "upgrade-log-empty";
          empty.textContent = "„Åæ„Å†Âêå„ÅòÈ†ÖÁõÆ„ÅÆÈÄÅ‰ø°„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ";
          logList.appendChild(empty);
          return;
        }
        filteredLogs.slice().reverse().forEach((entry) => {
          const item = document.createElement("li");
          item.className = "upgrade-log-item";

          const title = document.createElement("strong");
          title.textContent = entry.type;

          const label = document.createElement("span");
          label.textContent = entry.label;

          const priority = document.createElement("span");
          priority.textContent = `ÈáçË¶ÅÂ∫¶: ${entry.priority}`;

          const message = document.createElement("span");
          message.textContent = entry.message || "ÔºàÂÜÖÂÆπ„Å™„ÅóÔºâ";

          const createdAt = document.createElement("span");
          createdAt.textContent = entry.createdAt;

          if (entry.image) {
            const img = document.createElement("img");
            img.src = entry.image;
            img.alt = "ÈÄÅ‰ø°„Åó„Åü„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà";
            item.appendChild(img);
          }

          item.append(title, label, priority, message, createdAt);
          logList.appendChild(item);
        });
      };

      const captureArea = async (rect) => {
        if (!captureImg || !window.html2canvas) return;
        try {
          currentCapture = "";
          if (previewNote) previewNote.textContent = "„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñÂæó‰∏≠...";
          const canvas = await window.html2canvas(document.body, {
            x: rect.x,
            y: rect.y,
            width: rect.width,
            height: rect.height,
            useCORS: true,
            backgroundColor: null
          });
          currentCapture = canvas.toDataURL("image/png");
          captureImg.src = currentCapture;
          if (previewNote) previewNote.textContent = "„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÇíÂèñÂæó„Åó„Åæ„Åó„Åü„ÄÇ";
        } catch (error) {
          console.warn("Failed to capture screenshot", error);
          if (previewNote) previewNote.textContent = "„Çπ„ÇØ„É™„Éº„É≥„Ç∑„Éß„ÉÉ„Éà„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ";
        }
      };

      const getTargetInfo = (target) => {
        if (!(target instanceof HTMLElement)) return null;
        const button = target.closest("button, [role='button']");
        if (button) {
          const label = button.getAttribute("aria-label") || button.textContent.trim() || "„Éú„Çø„É≥";
          return { type: "„Éú„Çø„É≥", label, key: `button:${button.id || label}` };
        }
        const image = target.closest("img");
        if (image) {
          const label = image.getAttribute("alt") || image.getAttribute("src") || "„Ç§„É°„Éº„Ç∏ÁîªÂÉè";
          return { type: "„Ç§„É°„Éº„Ç∏ÁîªÂÉè", label, key: `image:${image.getAttribute("src") || label}` };
        }
        const textContent = target.textContent?.trim();
        if (textContent) {
          const shortText = textContent.length > 30 ? `${textContent.slice(0, 30)}‚Ä¶` : textContent;
          return { type: "Ë°®Á§∫„ÉÜ„Ç≠„Çπ„Éà", label: shortText, key: `text:${shortText}` };
        }
        return { type: "‰ΩôÁôΩ", label: "‰ΩôÁôΩÔºàËá™ÂãïÂà§ÂÆöÔºâ", key: "margin" };
      };

      const getCaptureRect = (target, point, type) => {
        const padding = 16;
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;
        if (type === "‰ΩôÁôΩ") {
          const width = 280;
          const height = 180;
          const x = Math.min(Math.max(point.x - width / 2, 0), viewportWidth - width);
          const y = Math.min(Math.max(point.y - height / 2, 0), viewportHeight - height);
          return { x, y, width, height };
        }
        const rect = target.getBoundingClientRect();
        const x = Math.min(Math.max(rect.left - padding, 0), viewportWidth - rect.width - padding);
        const y = Math.min(Math.max(rect.top - padding, 0), viewportHeight - rect.height - padding);
        return { x, y, width: rect.width + padding * 2, height: rect.height + padding * 2 };
      };

      const handleContextRequest = (target, point) => {
        const targetInfo = getTargetInfo(target);
        if (!targetInfo) return;
        setTargetInfo(targetInfo);
        captureArea(getCaptureRect(target, point, targetInfo.type));
        openModal();
      };

      document.addEventListener("contextmenu", (event) => {
        event.preventDefault();
        handleContextRequest(event.target, { x: event.clientX, y: event.clientY });
      });

      let longPressTimer = null;
      document.addEventListener("touchstart", (event) => {
        if (event.touches.length !== 1) return;
        const touch = event.touches[0];
        longPressTimer = window.setTimeout(() => {
          handleContextRequest(event.target, { x: touch.clientX, y: touch.clientY });
        }, 600);
      });
      ["touchend", "touchmove", "touchcancel"].forEach((eventName) => {
        document.addEventListener(eventName, () => {
          if (longPressTimer) {
            clearTimeout(longPressTimer);
            longPressTimer = null;
          }
        });
      });

      if (closeBtn) {
        closeBtn.addEventListener("click", closeModal);
      }
      if (modal) {
        modal.addEventListener("click", (event) => {
          if (event.target === modal) closeModal();
        });
      }
      if (inboxBtn) {
        inboxBtn.addEventListener("click", () => {
          setTargetInfo(currentTarget || { type: "Êú™ÈÅ∏Êäû", label: "Êú™ÈÅ∏Êäû", key: null });
          openModal();
        });
      }
      if (sendBtn) {
        sendBtn.addEventListener("click", () => {
          if (!currentTarget) {
            alert("Âè≥„ÇØ„É™„ÉÉ„ÇØÔºàÈï∑Êäº„Åó„Çø„ÉÉ„ÉóÔºâ„ÅßÂØæË±°„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");
            return;
          }
          const logs = readLogs();
          const entry = {
            type: currentTarget.type,
            label: currentTarget.label,
            key: currentTarget.key,
            priority: getPriorityValue(),
            message: messageEl?.value.trim() || "",
            image: currentCapture || captureImg?.src || "",
            createdAt: new Date().toLocaleString("ja-JP")
          };
          logs.push(entry);
          writeLogs(logs.slice(-100));
          updateBadge(logs.length);
          renderLogList();
          if (messageEl) messageEl.value = "";
        });
      }

      updateBadge(readLogs().length);
    })();
  </script>
  <script>
    // Initialize smooth swipe scrolling
    (function() {
      if (window.SwipeHandler) {
        window.pageSwipeHandler = new SwipeHandler(document.body, {
          enableGradient: true,
          snapToSections: false,
          enableMomentum: true,
          showVisualFeedback: true
        });
      }
    })();
  </script>
  <script>
    (function() {
      const ctrlDock = document.getElementById("ctrlDock");
      const ctrlDockHandle = document.getElementById("ctrlDockHandle");
      const ctrlDockExpandBtn = document.getElementById("ctrlDockExpandBtn");
      const ctrlDockCollapseBtn = document.getElementById("ctrlDockCollapseBtn");
      const memoQuickBtn = document.getElementById("memoQuickBtn");
      const memoQuickWrap = document.getElementById("memoQuickWrap");

      const enableCtrlDockDragging = (dock, handle) => {
        if (!dock || !handle) return;
        let dragging = false;
        let pointerId = null;
        let startX = 0;
        let startY = 0;
        let startLeft = 0;
        let startTop = 0;
        let dockWidth = 0;
        let dockHeight = 0;
        const margin = 12;
        const clampValue = (value, min, max) => Math.min(max, Math.max(min, value));
        const setPosition = (left, top) => {
          dock.style.left = `${left}px`;
          dock.style.top = `${top}px`;
          dock.style.right = "auto";
          dock.style.bottom = "auto";
        };
        handle.addEventListener("pointerdown", (e) => {
          if (e.button !== 0) return;
          const rect = dock.getBoundingClientRect();
          dockWidth = rect.width;
          dockHeight = rect.height;
          startLeft = rect.left;
          startTop = rect.top;
          startX = e.clientX;
          startY = e.clientY;
          dragging = true;
          pointerId = e.pointerId;
          handle.setPointerCapture(pointerId);
          dock.classList.add("is-dragging");
          setPosition(startLeft, startTop);
          e.preventDefault();
        });
        handle.addEventListener("pointermove", (e) => {
          if (!dragging || e.pointerId !== pointerId) return;
          const nextLeft = startLeft + (e.clientX - startX);
          const nextTop = startTop + (e.clientY - startY);
          const maxLeft = Math.max(margin, window.innerWidth - dockWidth - margin);
          const maxTop = Math.max(margin, window.innerHeight - dockHeight - margin);
          setPosition(clampValue(nextLeft, margin, maxLeft), clampValue(nextTop, margin, maxTop));
        });
        const stopDrag = (e) => {
          if (!dragging || (pointerId !== null && e.pointerId !== pointerId)) return;
          dragging = false;
          dock.classList.remove("is-dragging");
          if (pointerId !== null) {
            handle.releasePointerCapture(pointerId);
          }
          pointerId = null;
        };
        handle.addEventListener("pointerup", stopDrag);
        handle.addEventListener("pointercancel", stopDrag);
      };

      const setCtrlDockExpanded = (dock, expandBtn, collapseBtn, expanded) => {
        if (!dock) return;
        dock.classList.toggle("is-collapsed", !expanded);
        dock.classList.toggle("is-expanded", expanded);
        if (expandBtn) expandBtn.setAttribute("aria-expanded", expanded ? "true" : "false");
        if (collapseBtn) collapseBtn.setAttribute("aria-expanded", expanded ? "true" : "false");
      };

      const closeMemoQuickMenu = () => {
        if (!memoQuickWrap) return;
        memoQuickWrap.classList.remove("is-open");
        memoQuickBtn?.setAttribute("aria-expanded", "false");
      };

      const toggleMemoQuickMenu = () => {
        if (!memoQuickWrap) return;
        const isOpen = memoQuickWrap.classList.contains("is-open");
        if (isOpen) {
          closeMemoQuickMenu();
        } else {
          memoQuickWrap.classList.add("is-open");
          memoQuickBtn?.setAttribute("aria-expanded", "true");
        }
      };

      enableCtrlDockDragging(ctrlDock, ctrlDockHandle);
      setCtrlDockExpanded(ctrlDock, ctrlDockExpandBtn, ctrlDockCollapseBtn, false);
      ctrlDockExpandBtn?.addEventListener("click", () => {
        setCtrlDockExpanded(ctrlDock, ctrlDockExpandBtn, ctrlDockCollapseBtn, true);
      });
      ctrlDockCollapseBtn?.addEventListener("click", () => {
        setCtrlDockExpanded(ctrlDock, ctrlDockExpandBtn, ctrlDockCollapseBtn, false);
      });
      memoQuickBtn?.addEventListener("click", (event) => {
        event.stopPropagation();
        toggleMemoQuickMenu();
      });
      memoQuickWrap?.addEventListener("click", (event) => {
        event.stopPropagation();
      });
      document.addEventListener("click", () => closeMemoQuickMenu());
    })();
  </script>
  <script>
    (() => {
      const switcher = document.getElementById("deviceSwitcher");
      const badges = document.getElementById("deviceBadges");
      const bubble = document.getElementById("deviceBubble");
      const bubbleTitle = document.getElementById("deviceBubbleTitle");
      const bubbleDesc = document.getElementById("deviceBubbleDesc");
      const bubbleAction = document.getElementById("deviceBubbleAction");
      if (!switcher || !badges || !bubble || !bubbleTitle || !bubbleDesc || !bubbleAction) return;

      const STORAGE_KEY = "devicePreviewMode";
      const LABELS = {
        pc: "„Éë„ÇΩ„Ç≥„É≥Ë°®Á§∫",
        tablet: "„Çø„Éñ„É¨„ÉÉ„ÉàË°®Á§∫",
        mobile: "„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥Ë°®Á§∫"
      };
      const DESCRIPTIONS = {
        pc: "PCÂêë„Åë„É¨„Ç§„Ç¢„Ç¶„Éà„Å´Âàá„ÇäÊõø„Åà„Åæ„Åô„ÄÇ",
        tablet: "„Çø„Éñ„É¨„ÉÉ„ÉàÂêë„Åë„É¨„Ç§„Ç¢„Ç¶„Éà„Å´Âàá„ÇäÊõø„Åà„Åæ„Åô„ÄÇ",
        mobile: "„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥Âêë„Åë„É¨„Ç§„Ç¢„Ç¶„Éà„Å´Âàá„ÇäÊõø„Åà„Åæ„Åô„ÄÇ"
      };
      let pendingMode = null;

      const detectMode = () => {
        const width = window.innerWidth;
        if (width < 768) return "mobile";
        if (width < 1024) return "tablet";
        return "pc";
      };

      const getStoredMode = () => {
        const value = localStorage.getItem(STORAGE_KEY);
        if (value === "pc" || value === "tablet" || value === "mobile") return value;
        return null;
      };

      const applyModeClass = (mode) => {
        document.body.classList.remove("device-preview--tablet", "device-preview--mobile");
        if (mode === "tablet") {
          document.body.classList.add("device-preview--tablet");
        }
        if (mode === "mobile") {
          document.body.classList.add("device-preview--mobile");
        }
      };

      const closeBubble = () => {
        pendingMode = null;
        bubble.classList.remove("is-open");
        bubble.setAttribute("aria-hidden", "true");
      };

      const openBubble = (button, mode, currentMode) => {
        pendingMode = mode;
        bubbleTitle.textContent = `${LABELS[mode]}„Å´Âàá„ÇäÊõø„Åà`;
        bubbleDesc.textContent = `${DESCRIPTIONS[mode]} ÁèæÂú®„ÅØ${LABELS[currentMode]}„Åß„Åô„ÄÇ`;
        bubble.classList.add("is-open");
        bubble.setAttribute("aria-hidden", "false");

        const switcherRect = switcher.getBoundingClientRect();
        const buttonRect = button.getBoundingClientRect();
        const buttonCenter = buttonRect.left + buttonRect.width / 2 - switcherRect.left;
        const bubbleWidth = bubble.offsetWidth;
        const maxLeft = Math.max(0, switcher.offsetWidth - bubbleWidth);
        const nextLeft = Math.min(Math.max(buttonRect.left - switcherRect.left, 0), maxLeft);
        const arrowLeft = Math.min(Math.max(buttonCenter - nextLeft - 8, 12), bubbleWidth - 28);
        bubble.style.left = `${nextLeft}px`;
        bubble.style.setProperty("--bubble-arrow-left", `${arrowLeft}px`);
      };

      const renderBadges = (currentMode) => {
        const modes = ["pc", "tablet", "mobile"].filter((mode) => mode !== currentMode);
        badges.innerHTML = "";
        modes.forEach((mode) => {
          const button = document.createElement("button");
          button.type = "button";
          button.className = "device-badge";
          button.textContent = LABELS[mode];
          button.dataset.mode = mode;
          button.addEventListener("click", (event) => {
            event.stopPropagation();
            if (pendingMode === mode && bubble.classList.contains("is-open")) {
              closeBubble();
              return;
            }
            openBubble(button, mode, currentMode);
          });
          badges.appendChild(button);
        });
      };

      const setMode = (mode) => {
        localStorage.setItem(STORAGE_KEY, mode);
        applyModeClass(mode);
        renderBadges(mode);
        closeBubble();
      };

      const sync = () => {
        const stored = getStoredMode();
        if (stored) {
          applyModeClass(stored);
          renderBadges(stored);
        } else {
          applyModeClass(null);
          renderBadges(detectMode());
        }
      };

      bubbleAction.addEventListener("click", () => {
        if (!pendingMode) return;
        setMode(pendingMode);
      });

      document.addEventListener("click", () => {
        closeBubble();
      });

      window.addEventListener("resize", () => {
        if (!getStoredMode()) {
          sync();
        }
      });

      sync();
    })();
  </script>
</body>
</html>
